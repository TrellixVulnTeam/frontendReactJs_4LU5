{"ast":null,"code":"import _toConsumableArray from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\chaki\\\\OneDrive\\\\Desktop\\\\aymenouerghui\\\\frontendReactJs\\\\src\\\\user\\\\components\\\\Post\\\\PostItem.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/alt-text */\nimport axios from \"axios\";\nimport { useEffect, useRef, useState } from \"react\";\nimport Moment from \"react-moment\";\nimport FormInputComment from \"./FormInputComment\";\nimport io from \"socket.io-client\";\nimport CommentItemPost from \"./CommentItemPost\";\nimport { useDispatch } from \"react-redux\";\nimport { deletePost, getPosts } from \"../../../redux/actions/postAction\";\nimport \"./postItem.css\";\nimport EditPostPopup from \"./EditPostPopup\";\nimport ReactPlayer from \"react-player\";\nimport ListReactions from \"./ListReactions\";\nimport { FacebookButton } from \"react-social\";\nimport { Link } from \"react-router-dom\";\nimport { FacebookShareButton, LinkedinShareButton, TwitterShareButton } from \"react-share\";\nimport { FacebookIcon, TwitterIcon, LinkedinIcon } from \"react-share\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar username = \"607e1c25b6e3422b40b74213\";\nvar userconnected = localStorage.getItem(\"connecteduser\");\n/* eslint-disable jsx-a11y/anchor-is-valid */\n\nexport default function PostItem(_ref) {\n  _s();\n\n  var _this = this;\n\n  var post = _ref.post,\n      key = _ref.key;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      socket = _useState2[0],\n      setSocket = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      comments = _useState4[0],\n      setComments = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setloading = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      nbComments = _useState8[0],\n      setnbComments = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      moreComments = _useState10[0],\n      setmoreComments = _useState10[1];\n\n  var _useState11 = useState(1),\n      _useState12 = _slicedToArray(_useState11, 2),\n      page = _useState12[0],\n      setPage = _useState12[1];\n\n  var _useState13 = useState(3),\n      _useState14 = _slicedToArray(_useState13, 2),\n      next = _useState14[0],\n      setnext = _useState14[1];\n\n  var pageEnd = useRef();\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      openPopup = _useState16[0],\n      setopenPopup = _useState16[1];\n\n  var _useState17 = useState(true),\n      _useState18 = _slicedToArray(_useState17, 2),\n      showComments = _useState18[0],\n      setshowComments = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      showReactions = _useState20[0],\n      setshowReactions = _useState20[1];\n\n  var _useState21 = useState(0),\n      _useState22 = _slicedToArray(_useState21, 2),\n      nbReact = _useState22[0],\n      setnbReact = _useState22[1];\n\n  var _useState23 = useState(false),\n      _useState24 = _slicedToArray(_useState23, 2),\n      reacted = _useState24[0],\n      setreacted = _useState24[1];\n\n  var _useState25 = useState(false),\n      _useState26 = _slicedToArray(_useState25, 2),\n      openPopupReact = _useState26[0],\n      setopenPopupReact = _useState26[1];\n\n  var _useState27 = useState(\"Like\"),\n      _useState28 = _slicedToArray(_useState27, 2),\n      liketext = _useState28[0],\n      setliketext = _useState28[1];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    setloading(true);\n    axios.get(\"https://aaweni.herokuapp.com/pi/commentRoute/comment/\" + post._id + \"?limit=\" + page * 3).then(function (res) {\n      setComments(res.data.comments);\n      setloading(false);\n      setmoreComments(nbComments - 3);\n    }).catch(function (err) {\n      return console.log(err.response.data.msg);\n    });\n    axios.get(\"https://aaweni.herokuapp.com/pi/commentRoute/nbcomment/\" + post._id).then(function (res) {\n      setnbComments(res.data.nbcomments);\n    });\n    var socket = io.connect(\"https://aaweni.herokuapp.com/\");\n    setSocket(socket);\n    return function () {\n      return socket.close();\n    };\n  }, [post._id, page, nbComments]); // RealTime\n\n  useEffect(function () {\n    if (socket) {\n      socket.emit(\"joinRoom\", post._id);\n    }\n  }, [socket, post._id]);\n  useEffect(function () {\n    if (socket) {\n      socket.on(\"sendCommentToClient\", function (msg) {\n        setComments([msg].concat(_toConsumableArray(comments)));\n        setnbComments(nbComments + 1);\n      });\n      return function () {\n        return socket.off(\"sendCommentToClient\");\n      };\n    }\n  }, [socket, comments, nbComments]); //reply comments\n\n  useEffect(function () {\n    if (socket) {\n      socket.on(\"sendReplyCommentToClient\", function (msg) {\n        var newArr = _toConsumableArray(comments);\n\n        newArr.forEach(function (cm) {\n          if (cm._id === msg._id) {\n            cm.reply = msg.reply;\n          }\n        });\n        setComments(newArr);\n      });\n      return function () {\n        return socket.off(\"sendReplyCommentToClient\");\n      };\n    }\n  }, [socket, comments]); //comment Update\n\n  useEffect(function () {\n    if (socket) {\n      socket.on(\"commentUpdated\", function (msg) {\n        //setComments([msg, ...comments]);\n        axios.get(\"https://aaweni.herokuapp.com/pi/commentRoute/comment/\" + post._id + \"?limit=\" + page * 3).then(function (res) {\n          setComments(res.data.comments);\n          setloading(false);\n        });\n      });\n      return function () {\n        return socket.off(\"commentUpdated\");\n      };\n    }\n  }, [socket, comments, page, post._id]); //comment Delete\n\n  useEffect(function () {\n    if (socket) {\n      socket.on(\"commentDeleted\", function (msg) {\n        //setComments([msg, ...comments]);\n        axios.get(\"https://aaweni.herokuapp.com/pi/commentRoute/comment/\" + post._id + \"?limit=\" + page * 3).then(function (res) {\n          setComments(res.data.comments);\n          setloading(false);\n          setnbComments(nbComments - 1);\n        });\n      });\n      return function () {\n        return socket.off(\"commentDeleted\");\n      };\n    }\n  }, [socket, comments, page, post._id, nbComments]);\n\n  var loadMore = function loadMore() {\n    //loopWithSlice(next);\n    setPage(function (prev) {\n      return prev + 1;\n    });\n    setmoreComments(comments.length - 3);\n  }; // Add Reaction\n\n\n  var addReaction = function addReaction(name, image) {\n    var post_id = post._id;\n    var reaction = {\n      name: name,\n      image: image,\n      post_id: post_id,\n      userconnected: userconnected\n    };\n    axios.post(\"https://aaweni.herokuapp.com/pi/reactRoute/react\", reaction);\n    setshowReactions(false);\n    axios.get(\"https://aaweni.herokuapp.com/pi/reactRoute/nbreact/\" + post._id).then(function (res) {\n      return setnbReact(res.data.result);\n    });\n    setreacted(true);\n  };\n\n  useEffect(function () {\n    axios.get(\"https://aaweni.herokuapp.com/pi/reactRoute/nbreact/\" + post._id).then(function (res) {\n      return setnbReact(res.data.result);\n    });\n  }, [post._id]);\n  var upload = \"https://res.cloudinary.com/dojrd5swn/image/upload/\" + post.image || null; //Delete Reaction\n\n  var deleteReact = function deleteReact(postid, username) {\n    axios.delete(\"https://aaweni.herokuapp.com/pi/reactRoute/reactone/\" + postid + \"/\" + userconnected);\n    setreacted(false);\n    setnbReact(nbReact - 1);\n  }; // Delete\n\n\n  var onDelete = function onDelete(id) {\n    dispatch(deletePost(id));\n    dispatch(getPosts());\n  };\n\n  var _useState29 = useState(false),\n      _useState30 = _slicedToArray(_useState29, 2),\n      showVideo = _useState30[0],\n      setshowVideo = _useState30[1];\n\n  useEffect(function () {\n    var _post$image;\n\n    if ((_post$image = post.image) === null || _post$image === void 0 ? void 0 : _post$image.endsWith(\"mp4\")) {\n      setshowVideo(true);\n    }\n  }, [post.image]);\n\n  var _useState31 = useState(false),\n      _useState32 = _slicedToArray(_useState31, 2),\n      youtube = _useState32[0],\n      setyoutube = _useState32[1];\n\n  var _useState33 = useState(false),\n      _useState34 = _slicedToArray(_useState33, 2),\n      dailyMotion = _useState34[0],\n      setdailyMotion = _useState34[1];\n\n  useEffect(function () {\n    var _post$description, _post$description2;\n\n    if ((_post$description = post.description) === null || _post$description === void 0 ? void 0 : _post$description.includes(\"https://www.youtube.com/watch?\")) {\n      setyoutube(true);\n    }\n\n    if ((_post$description2 = post.description) === null || _post$description2 === void 0 ? void 0 : _post$description2.includes(\"https://www.dailymotion.com\")) {\n      setdailyMotion(true);\n    }\n  }, [post.description]); //check connected user\n\n  var _useState35 = useState(false),\n      _useState36 = _slicedToArray(_useState35, 2),\n      allowEdit = _useState36[0],\n      setallowEdit = _useState36[1];\n\n  useEffect(function () {\n    if (post.username._id === userconnected) {\n      setallowEdit(true);\n    }\n  }, [post.username]); //share on facebook\n\n  var url = \"https://res.cloudinary.com/dojrd5swn/image/upload/\" + post.image;\n  var appId = \"818960815377406\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"bg-white shadow border border-gray-100 rounded-lg dark:bg-gray-900 lg:mx-0 uk-animation-slide-bottom-small\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"flex justify-between items-center lg:p-4 p-2.5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"flex flex-1 items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: post.username.profilePicture,\n              class: \"bg-gray-200 border border-white rounded-full w-10 h-10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"flex-1 font-semibold capitalize\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/userdetails/\".concat(post.username._id, \" \"),\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                class: \"text-black\",\n                children: post.username.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"text-gray-700 flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Moment, {\n                fromNow: true,\n                children: post.createdAt\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n                name: \"people\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), allowEdit && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"icon-feather-more-horizontal text-2xl hover:bg-gray-200 rounded-full p-2 transition -mr-1 dark:hover:bg-gray-700\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"bg-white w-56 shadow-md mx-auto p-2 mt-12 rounded-md text-gray-500  text-base border border-gray-100 dark:bg-gray-900 dark:text-gray-100 dark:border-gray-700\",\n            \"uk-drop\": \"mode: click;pos: bottom-right;animation: uk-animation-slide-bottom-small\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              class: \"space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  onClick: function onClick() {\n                    return setopenPopup(true);\n                  },\n                  class: \"flex items-center px-3 py-2 hover:bg-gray-200 hover:text-gray-800 rounded-md dark:hover:bg-gray-800\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"uil-edit-alt mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 23\n                  }, this), \" Edit Post\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 19\n              }, this), showComments && /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  class: \"flex items-center px-3 py-2 hover:bg-gray-200 hover:text-gray-800 rounded-md dark:hover:bg-gray-800\",\n                  onClick: function onClick() {\n                    return setshowComments(false);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"uil-comment-slash mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 25\n                  }, this), \" Disable comments\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 21\n              }, this), !showComments && /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  class: \"flex items-center px-3 py-2 hover:bg-gray-200 hover:text-gray-800 rounded-md dark:hover:bg-gray-800\",\n                  onClick: function onClick() {\n                    return setshowComments(true);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"uil-comment mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 25\n                  }, this), \" Enable comments\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"hr\", {\n                  class: \"-mx-2 my-2 dark:border-gray-800\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  onClick: function onClick() {\n                    return onDelete(post._id);\n                  },\n                  class: \"flex items-center px-3 py-2 text-red-500 hover:bg-red-100 hover:text-red-500 rounded-md dark:hover:bg-red-600\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"uil-trash-alt mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 23\n                  }, this), \" Delete\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"p-3 border-b dark:border-gray-700\",\n        children: post.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        \"uk-lightbox\": true,\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"assets/user/images/avatars/avatar-lg-3.jpg\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: upload,\n            alt: \"\",\n            class: \"max-h-96 w-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), showVideo && /*#__PURE__*/_jsxDEV(\"video\", {\n            controls: true,\n            children: /*#__PURE__*/_jsxDEV(\"source\", {\n              src: upload,\n              type: \"video/mp4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 15\n          }, this), (youtube || dailyMotion) && /*#__PURE__*/_jsxDEV(ReactPlayer, {\n            url: post.description,\n            controls: true,\n            width: \"100%\",\n            config: {\n              youtube: {\n                playerVars: {\n                  showinfo: 1\n                }\n              },\n              dailymotion: {}\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this), \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), showReactions && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reactions\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"emoji\",\n          onClick: function onClick() {\n            addReaction(\"Like\", \"like.gif\");\n            setliketext(\"Like\");\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"assets/user/images/post/like.gif\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Like\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"emoji\",\n          onClick: function onClick() {\n            addReaction(\"Love\", \"love.gif\");\n            setliketext(\"Love\");\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"assets/user/images/post/love.gif\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Love\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"emoji\",\n          onClick: function onClick() {\n            addReaction(\"Haha\", \"laugh.gif\");\n            setliketext(\"Haha\");\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"assets/user/images/post/laugh.gif\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Haha\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"emoji\",\n          onClick: function onClick() {\n            addReaction(\"Wow\", \"wow.gif\");\n            setliketext(\"Wow\");\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"assets/user/images/post/wow.gif\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Wow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"emoji\",\n          onClick: function onClick() {\n            addReaction(\"Sad\", \"sad.gif\");\n            setliketext(\"Sad\");\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"assets/user/images/post/sad.gif\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Sad\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"emoji\",\n          onClick: function onClick() {\n            addReaction(\"Angry\", \"angry.gif\");\n            setliketext(\"Angry\");\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"assets/user/images/post/angry.gif\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Angry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"p-4 space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"flex space-x-4 lg:font-bold\",\n          children: [!reacted && /*#__PURE__*/_jsxDEV(\"a\", {\n            onMouseEnter: function onMouseEnter() {\n              setshowReactions(true);\n            },\n            onMouseLeave: function onMouseLeave() {\n              setTimeout(function () {\n                return setshowReactions(false);\n              }, 4000);\n            },\n            style: {\n              cursor: \"pointer\"\n            },\n            class: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"p-2 rounded-full text-black lg:bg-gray-100\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                viewBox: \"0 0 20 20\",\n                fill: \"currentColor\",\n                width: \"22\",\n                height: \"22\",\n                class: \"dark:text-gray-100\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \" Like\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 15\n          }, this), reacted && /*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: function onClick() {\n              deleteReact(post._id, userconnected);\n            },\n            style: {\n              cursor: \"pointer\"\n            },\n            class: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"p-2 rounded-full text-black lg:bg-gray-100\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                viewBox: \"0 0 20 20\",\n                fill: \"currentColor\",\n                width: \"22\",\n                height: \"22\",\n                class: \"dark:text-gray-100\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: \"#EF4444\"\n              },\n              children: [\" \", liketext]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            class: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"p-2 rounded-full text-black lg:bg-gray-100\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                viewBox: \"0 0 20 20\",\n                fill: \"currentColor\",\n                width: \"22\",\n                height: \"22\",\n                class: \"dark:text-gray-100\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  \"fill-rule\": \"evenodd\",\n                  d: \"M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z\",\n                  \"clip-rule\": \"evenodd\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \" Comment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            class: \"flex items-center space-x-2 flex-1 justify-end\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"p-2 rounded-full text-black lg:bg-gray-100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this), post.image != null ? /*#__PURE__*/_jsxDEV(FacebookShareButton, {\n            url: upload,\n            quote: post.description,\n            children: /*#__PURE__*/_jsxDEV(FacebookIcon, {\n              size: 32,\n              round: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 36\n          }, this) : /*#__PURE__*/_jsxDEV(FacebookShareButton, {\n            url: \"https://3aweni.netlify.app/posts\",\n            quote: post.description,\n            children: /*#__PURE__*/_jsxDEV(FacebookIcon, {\n              size: 32,\n              round: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"flex items-center space-x-3 pt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"assets/user/images/avatars/avatar-1.jpg\",\n              alt: \"\",\n              class: \"w-6 h-6 rounded-full border-2 border-white dark:border-gray-900\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"assets/user/images/post/avatar-4.jpg\",\n              alt: \"\",\n              class: \"w-6 h-6 rounded-full border-2 border-white dark:border-gray-900 -ml-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"assets/user/images/avatars/avatar-2.jpg\",\n              alt: \"\",\n              class: \"w-6 h-6 rounded-full border-2 border-white dark:border-gray-900 -ml-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"dark:text-gray-100\",\n            children: [nbReact, \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \" \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: function onClick() {\n                return setopenPopupReact(true);\n              },\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \" Likes \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 15\n            }, this), \"    |    \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [nbComments, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 15\n            }, this), \"comments\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"border-t py-4 space-y-4 dark:border-gray-600\",\n          children: comments.map(function (comment) {\n            return /*#__PURE__*/_jsxDEV(CommentItemPost, {\n              showCommentss: showComments,\n              comment: comment,\n              socket: socket\n            }, comment._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 15\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 11\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 23\n        }, this), nbComments - comments.length > 0 && /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: loadMore,\n          class: \"hover:text-blue-600 hover:underline\",\n          children: [\"View \", nbComments - comments.length, \" more Comments\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 13\n        }, this), showComments && /*#__PURE__*/_jsxDEV(FormInputComment, {\n          id: post._id,\n          socket: socket\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListReactions, {\n      id: post._id,\n      openPopup: openPopupReact,\n      setopenPopup: setopenPopupReact\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EditPostPopup, {\n      openPopup: openPopup,\n      post: post,\n      setopenPopup: setopenPopup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(PostItem, \"8ZyhkAxD7/EKdGr5iEsF9i7qKRM=\", false, function () {\n  return [useDispatch];\n});\n\n_c = PostItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostItem\");","map":{"version":3,"sources":["C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/src/user/components/Post/PostItem.js"],"names":["axios","useEffect","useRef","useState","Moment","FormInputComment","io","CommentItemPost","useDispatch","deletePost","getPosts","EditPostPopup","ReactPlayer","ListReactions","FacebookButton","Link","FacebookShareButton","LinkedinShareButton","TwitterShareButton","FacebookIcon","TwitterIcon","LinkedinIcon","username","userconnected","localStorage","getItem","PostItem","post","key","socket","setSocket","comments","setComments","loading","setloading","nbComments","setnbComments","moreComments","setmoreComments","page","setPage","next","setnext","pageEnd","openPopup","setopenPopup","showComments","setshowComments","showReactions","setshowReactions","nbReact","setnbReact","reacted","setreacted","openPopupReact","setopenPopupReact","liketext","setliketext","dispatch","get","_id","then","res","data","catch","err","console","log","response","msg","nbcomments","connect","close","emit","on","off","newArr","forEach","cm","reply","loadMore","prev","length","addReaction","name","image","post_id","reaction","result","upload","deleteReact","postid","delete","onDelete","id","showVideo","setshowVideo","endsWith","youtube","setyoutube","dailyMotion","setdailyMotion","description","includes","allowEdit","setallowEdit","url","appId","profilePicture","createdAt","playerVars","showinfo","dailymotion","setTimeout","cursor","color","map","comment"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/alt-text */\r\n\r\nimport axios from \"axios\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport Moment from \"react-moment\";\r\nimport FormInputComment from \"./FormInputComment\";\r\nimport io from \"socket.io-client\";\r\nimport CommentItemPost from \"./CommentItemPost\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deletePost, getPosts } from \"../../../redux/actions/postAction\";\r\nimport \"./postItem.css\";\r\nimport EditPostPopup from \"./EditPostPopup\";\r\nimport ReactPlayer from \"react-player\";\r\nimport ListReactions from \"./ListReactions\";\r\nimport { FacebookButton } from \"react-social\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n   \r\n    FacebookShareButton,\r\n    LinkedinShareButton,\r\n    TwitterShareButton,\r\n  \r\n  } from \"react-share\";\r\nimport { FacebookIcon, TwitterIcon,LinkedinIcon } from \"react-share\";\r\nlet username = \"607e1c25b6e3422b40b74213\";\r\nconst userconnected = localStorage.getItem(\"connecteduser\");\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\nexport default function PostItem({ post, key }) {\r\n  const [socket, setSocket] = useState(null);\r\n  const [comments, setComments] = useState([]);\r\n  const [loading, setloading] = useState(false);\r\n  const [nbComments, setnbComments] = useState(0);\r\n  const [moreComments, setmoreComments] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [next, setnext] = useState(3);\r\n  const pageEnd = useRef();\r\n  const [openPopup, setopenPopup] = useState(false);\r\n  const [showComments, setshowComments] = useState(true);\r\n  const [showReactions, setshowReactions] = useState(false);\r\n  const [nbReact, setnbReact] = useState(0);\r\n  const [reacted, setreacted] = useState(false);\r\n  const [openPopupReact, setopenPopupReact] = useState(false);\r\n  const [liketext, setliketext] = useState(\"Like\");\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    setloading(true);\r\n    axios\r\n      .get(\"https://aaweni.herokuapp.com/pi/commentRoute/comment/\" + post._id + \"?limit=\" + page * 3)\r\n      .then((res) => {\r\n        setComments(res.data.comments);\r\n        setloading(false);\r\n        setmoreComments(nbComments - 3);\r\n      })\r\n      .catch((err) => console.log(err.response.data.msg));\r\n    axios.get(\"https://aaweni.herokuapp.com/pi/commentRoute/nbcomment/\" + post._id).then((res) => {\r\n      setnbComments(res.data.nbcomments);\r\n    });\r\n    const socket = io.connect(\"https://aaweni.herokuapp.com/\");\r\n    setSocket(socket);\r\n\r\n    return () => socket.close();\r\n  }, [post._id, page, nbComments]);\r\n\r\n  // RealTime\r\n  useEffect(() => {\r\n    if (socket) {\r\n      socket.emit(\"joinRoom\", post._id);\r\n    }\r\n  }, [socket, post._id]);\r\n\r\n  useEffect(() => {\r\n    if (socket) {\r\n      socket.on(\"sendCommentToClient\", (msg) => {\r\n        setComments([msg, ...comments]);\r\n     \r\n        setnbComments(nbComments + 1);\r\n      });\r\n      return () => socket.off(\"sendCommentToClient\");\r\n    }\r\n  }, [socket, comments, nbComments]);\r\n\r\n  //reply comments\r\n\r\n  useEffect(() => {\r\n    if (socket) {\r\n      socket.on(\"sendReplyCommentToClient\", (msg) => {\r\n  \r\n        const newArr = [...comments];\r\n        newArr.forEach((cm) => {\r\n          if (cm._id === msg._id) {\r\n            cm.reply = msg.reply;\r\n          }\r\n        });\r\n        setComments(newArr);\r\n      });\r\n      return () => socket.off(\"sendReplyCommentToClient\");\r\n    }\r\n  }, [socket, comments]);\r\n\r\n  //comment Update\r\n  useEffect(() => {\r\n    if (socket) {\r\n      socket.on(\"commentUpdated\", (msg) => {\r\n        //setComments([msg, ...comments]);\r\n      \r\n        axios\r\n          .get(\"https://aaweni.herokuapp.com/pi/commentRoute/comment/\" + post._id + \"?limit=\" + page * 3)\r\n          .then((res) => {\r\n            setComments(res.data.comments);\r\n            setloading(false);\r\n          });\r\n      });\r\n      return () => socket.off(\"commentUpdated\");\r\n    }\r\n  }, [socket, comments, page, post._id]);\r\n\r\n  //comment Delete\r\n  useEffect(() => {\r\n    if (socket) {\r\n      socket.on(\"commentDeleted\", (msg) => {\r\n        //setComments([msg, ...comments]);\r\n        axios\r\n          .get(\"https://aaweni.herokuapp.com/pi/commentRoute/comment/\" + post._id + \"?limit=\" + page * 3)\r\n          .then((res) => {\r\n            setComments(res.data.comments);\r\n            setloading(false);\r\n            setnbComments(nbComments - 1);\r\n          });\r\n    \r\n      });\r\n      return () => socket.off(\"commentDeleted\");\r\n    }\r\n  }, [socket, comments, page, post._id, nbComments]);\r\n\r\n  const loadMore = () => {\r\n    //loopWithSlice(next);\r\n    setPage((prev) => prev + 1);\r\n    setmoreComments(comments.length - 3);\r\n  };\r\n\r\n  // Add Reaction\r\n  const addReaction = (name, image) => {\r\n    const post_id = post._id;\r\n\r\n    const reaction = { name, image, post_id, userconnected };\r\n    axios.post(\"https://aaweni.herokuapp.com/pi/reactRoute/react\", reaction);\r\n\r\n    setshowReactions(false);\r\n    axios\r\n      .get(\"https://aaweni.herokuapp.com/pi/reactRoute/nbreact/\" + post._id)\r\n      .then((res) => setnbReact(res.data.result));\r\n    setreacted(true);\r\n  };\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"https://aaweni.herokuapp.com/pi/reactRoute/nbreact/\" + post._id)\r\n      .then((res) => setnbReact(res.data.result));\r\n  }, [post._id]);\r\n\r\n\r\n  const upload = \"https://res.cloudinary.com/dojrd5swn/image/upload/\" + post.image || null;\r\n\r\n  //Delete Reaction\r\n  const deleteReact = (postid, username) => {\r\n    axios.delete(\"https://aaweni.herokuapp.com/pi/reactRoute/reactone/\" + postid + \"/\" + userconnected);\r\n    setreacted(false);\r\n    setnbReact(nbReact - 1);\r\n  };\r\n\r\n  // Delete\r\n  const onDelete = (id) => {\r\n    dispatch(deletePost(id));\r\n    dispatch(getPosts());\r\n  };\r\n\r\n  const [showVideo, setshowVideo] = useState(false);\r\n  useEffect(() => {\r\n    if (post.image?.endsWith(\"mp4\")) {\r\n      setshowVideo(true);\r\n    }\r\n  }, [post.image]);\r\n\r\n  const [youtube, setyoutube] = useState(false);\r\n  const [dailyMotion, setdailyMotion] = useState(false);\r\n  useEffect(() => {\r\n    if (post.description?.includes(\"https://www.youtube.com/watch?\")) {\r\n      setyoutube(true);\r\n    }\r\n    if (post.description?.includes(\"https://www.dailymotion.com\")) {\r\n      setdailyMotion(true);\r\n    }\r\n  }, [post.description]);\r\n\r\n  //check connected user\r\n\r\n  const [allowEdit, setallowEdit] = useState(false);\r\n  useEffect(() => {\r\n    if (post.username._id === userconnected) {\r\n      setallowEdit(true);\r\n    }\r\n  }, [post.username]);\r\n\r\n  //share on facebook\r\n  let url = \"https://res.cloudinary.com/dojrd5swn/image/upload/\" + post.image;\r\n  let appId = \"818960815377406\";\r\n  return (\r\n    <>\r\n      <div class=\"bg-white shadow border border-gray-100 rounded-lg dark:bg-gray-900 lg:mx-0 uk-animation-slide-bottom-small\">\r\n        <div class=\"flex justify-between items-center lg:p-4 p-2.5\">\r\n          <div class=\"flex flex-1 items-center space-x-4\">\r\n            <a href=\"#\">\r\n              <img\r\n                src={post.username.profilePicture}\r\n                class=\"bg-gray-200 border border-white rounded-full w-10 h-10\"\r\n              />\r\n            </a>\r\n            <div class=\"flex-1 font-semibold capitalize\">\r\n            <Link to={`/userdetails/${post.username._id} `}> \r\n              <a href=\"#\" class=\"text-black\">\r\n                \r\n                {post.username.username}\r\n              </a>\r\n              </Link>\r\n              <div class=\"text-gray-700 flex items-center space-x-2\">\r\n                <Moment fromNow>{post.createdAt}</Moment>\r\n                <ion-icon name=\"people\"></ion-icon>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {allowEdit && (\r\n            <div>\r\n              <a href=\"#\">\r\n                <i class=\"icon-feather-more-horizontal text-2xl hover:bg-gray-200 rounded-full p-2 transition -mr-1 dark:hover:bg-gray-700\"></i>\r\n              </a>\r\n              <div\r\n                class=\"bg-white w-56 shadow-md mx-auto p-2 mt-12 rounded-md text-gray-500  text-base border border-gray-100 dark:bg-gray-900 dark:text-gray-100 dark:border-gray-700\"\r\n                uk-drop=\"mode: click;pos: bottom-right;animation: uk-animation-slide-bottom-small\"\r\n              >\r\n                <ul class=\"space-y-1\">\r\n                  <li>\r\n                    <a\r\n                      onClick={() => setopenPopup(true)}\r\n                      class=\"flex items-center px-3 py-2 hover:bg-gray-200 hover:text-gray-800 rounded-md dark:hover:bg-gray-800\"\r\n                    >\r\n                      <i class=\"uil-edit-alt mr-1\"></i> Edit Post\r\n                    </a>\r\n                  </li>\r\n                  {showComments && (\r\n                    <li>\r\n                      <a\r\n                        class=\"flex items-center px-3 py-2 hover:bg-gray-200 hover:text-gray-800 rounded-md dark:hover:bg-gray-800\"\r\n                        onClick={() => setshowComments(false)}\r\n                      >\r\n                        <i class=\"uil-comment-slash mr-1\"></i> Disable comments\r\n                      </a>\r\n                    </li>\r\n                  )}\r\n                  {!showComments && (\r\n                    <li>\r\n                      <a\r\n                        class=\"flex items-center px-3 py-2 hover:bg-gray-200 hover:text-gray-800 rounded-md dark:hover:bg-gray-800\"\r\n                        onClick={() => setshowComments(true)}\r\n                      >\r\n                        <i class=\"uil-comment mr-1\"></i> Enable comments\r\n                      </a>\r\n                    </li>\r\n                  )}\r\n\r\n                  <li>\r\n                    <hr class=\"-mx-2 my-2 dark:border-gray-800\"></hr>\r\n                  </li>\r\n                  <li>\r\n                    <a\r\n                      onClick={() => onDelete(post._id)}\r\n                      class=\"flex items-center px-3 py-2 text-red-500 hover:bg-red-100 hover:text-red-500 rounded-md dark:hover:bg-red-600\"\r\n                    >\r\n                      <i class=\"uil-trash-alt mr-1\"></i> Delete\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div class=\"p-3 border-b dark:border-gray-700\">{post.description}</div>\r\n        <div uk-lightbox>\r\n          <a href=\"assets/user/images/avatars/avatar-lg-3.jpg\">\r\n            <img src={upload} alt=\"\" class=\"max-h-96 w-full object-cover\" />\r\n            {showVideo && (\r\n              <video controls>\r\n                <source src={upload} type=\"video/mp4\"></source>\r\n              </video>\r\n            )}\r\n            {(youtube || dailyMotion) && (\r\n              <ReactPlayer\r\n                url={post.description}\r\n                controls={true}\r\n                width=\"100%\"\r\n                config={{\r\n                  youtube: {\r\n                    playerVars: { showinfo: 1 },\r\n                  },\r\n\r\n                  dailymotion: {},\r\n                }}\r\n              />\r\n            )}\r\n            )\r\n          </a>\r\n        </div>\r\n        {showReactions && (\r\n          <div className=\"reactions\">\r\n            <a\r\n              className=\"emoji\"\r\n              onClick={() => {\r\n                addReaction(\"Like\", \"like.gif\");\r\n                setliketext(\"Like\");\r\n              }}\r\n            >\r\n              <img src=\"assets/user/images/post/like.gif\" />\r\n              <p>Like</p>\r\n            </a>\r\n            <a\r\n              className=\"emoji\"\r\n              onClick={() => {\r\n                addReaction(\"Love\", \"love.gif\");\r\n                setliketext(\"Love\");\r\n              }}\r\n            >\r\n              <img src=\"assets/user/images/post/love.gif\" />\r\n              <p>Love</p>\r\n            </a>\r\n\r\n            <a\r\n              className=\"emoji\"\r\n              onClick={() => {\r\n                addReaction(\"Haha\", \"laugh.gif\");\r\n                setliketext(\"Haha\");\r\n              }}\r\n            >\r\n              <img src=\"assets/user/images/post/laugh.gif\" />\r\n              <p>Haha</p>\r\n            </a>\r\n            <a\r\n              className=\"emoji\"\r\n              onClick={() => {\r\n                addReaction(\"Wow\", \"wow.gif\");\r\n                setliketext(\"Wow\");\r\n              }}\r\n            >\r\n              <img src=\"assets/user/images/post/wow.gif\" />\r\n              <p>Wow</p>\r\n            </a>\r\n            <a\r\n              className=\"emoji\"\r\n              onClick={() => {\r\n                addReaction(\"Sad\", \"sad.gif\");\r\n                setliketext(\"Sad\");\r\n              }}\r\n            >\r\n              <img src=\"assets/user/images/post/sad.gif\" />\r\n              <p>Sad</p>\r\n            </a>\r\n            <a\r\n              className=\"emoji\"\r\n              onClick={() => {\r\n                addReaction(\"Angry\", \"angry.gif\");\r\n                setliketext(\"Angry\");\r\n              }}\r\n            >\r\n              <img src=\"assets/user/images/post/angry.gif\" />\r\n              <p>Angry</p>\r\n            </a>\r\n          </div>\r\n        )}\r\n        <div class=\"p-4 space-y-3\">\r\n          <div class=\"flex space-x-4 lg:font-bold\">\r\n            {!reacted && (\r\n              <a\r\n                onMouseEnter={() => {\r\n                  setshowReactions(true);\r\n                }}\r\n                onMouseLeave={() => {\r\n                  setTimeout(() => setshowReactions(false), 4000);\r\n                }}\r\n                style={{ cursor: \"pointer\" }}\r\n                class=\"flex items-center space-x-2\"\r\n              >\r\n                <div class=\"p-2 rounded-full text-black lg:bg-gray-100\">\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 20 20\"\r\n                    fill=\"currentColor\"\r\n                    width=\"22\"\r\n                    height=\"22\"\r\n                    class=\"dark:text-gray-100\"\r\n                  >\r\n                    <path d=\"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z\" />\r\n                  </svg>\r\n                </div>\r\n                <div> Like</div>\r\n              </a>\r\n            )}\r\n            {reacted && (\r\n              <a\r\n                onClick={() => {\r\n                  deleteReact(post._id, userconnected);\r\n                }}\r\n                style={{ cursor: \"pointer\" }}\r\n                class=\"flex items-center space-x-2\"\r\n              >\r\n                <div class=\"p-2 rounded-full text-black lg:bg-gray-100\">\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 20 20\"\r\n                    fill=\"currentColor\"\r\n                    width=\"22\"\r\n                    height=\"22\"\r\n                    class=\"dark:text-gray-100\"\r\n                  >\r\n                    <path d=\"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z\" />\r\n                  </svg>\r\n                </div>\r\n\r\n                <div style={{ color: \"#EF4444\" }}> {liketext}</div>\r\n              </a>\r\n            )}\r\n\r\n            <a class=\"flex items-center space-x-2\">\r\n              <div class=\"p-2 rounded-full text-black lg:bg-gray-100\">\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 20 20\"\r\n                  fill=\"currentColor\"\r\n                  width=\"22\"\r\n                  height=\"22\"\r\n                  class=\"dark:text-gray-100\"\r\n                >\r\n                  <path\r\n                    fill-rule=\"evenodd\"\r\n                    d=\"M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z\"\r\n                    clip-rule=\"evenodd\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n              <div> Comment</div>\r\n            </a>\r\n\r\n            <a class=\"flex items-center space-x-2 flex-1 justify-end\">\r\n              <div class=\"p-2 rounded-full text-black lg:bg-gray-100\">\r\n                   \r\n             \r\n              </div>\r\n             \r\n            </a>\r\n             {post.image!=null?(   <FacebookShareButton\r\n                \r\n              url={upload}\r\n              quote={post.description}>\r\n      <FacebookIcon size={32} round />\r\n    </FacebookShareButton>):(   <FacebookShareButton\r\n                \r\n              url={\"https://3aweni.netlify.app/posts\"}\r\n              quote={post.description}>\r\n      <FacebookIcon size={32} round />\r\n    </FacebookShareButton>)} \r\n          \r\n          </div>\r\n          <div class=\"flex items-center space-x-3 pt-2\">\r\n            <div class=\"flex items-center\">\r\n              <img\r\n                src=\"assets/user/images/avatars/avatar-1.jpg\"\r\n                alt=\"\"\r\n                class=\"w-6 h-6 rounded-full border-2 border-white dark:border-gray-900\"\r\n              />\r\n              <img\r\n                src=\"assets/user/images/post/avatar-4.jpg\"\r\n                alt=\"\"\r\n                class=\"w-6 h-6 rounded-full border-2 border-white dark:border-gray-900 -ml-2\"\r\n              />\r\n              <img\r\n                src=\"assets/user/images/avatars/avatar-2.jpg\"\r\n                alt=\"\"\r\n                class=\"w-6 h-6 rounded-full border-2 border-white dark:border-gray-900 -ml-2\"\r\n              />\r\n            </div>\r\n            <div class=\"dark:text-gray-100\">\r\n              {nbReact} <strong> </strong>\r\n              <button onClick={() => setopenPopupReact(true)}>\r\n                {\" \"}\r\n                <strong> Likes </strong>\r\n              </button>\r\n              {\"    |    \"}\r\n              <strong>{nbComments} </strong>\r\n              comments\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"border-t py-4 space-y-4 dark:border-gray-600\">\r\n            {comments.map((comment) => (\r\n              <CommentItemPost\r\n                showCommentss={showComments}\r\n                key={comment._id}\r\n                comment={comment}\r\n                socket={socket}\r\n              />\r\n            ))}\r\n          </div>\r\n          {loading && <div className=\"loading\"></div>}\r\n          {nbComments - comments.length > 0 && (\r\n            <a onClick={loadMore} class=\"hover:text-blue-600 hover:underline\">\r\n              View {nbComments - comments.length} more Comments\r\n            </a>\r\n          )}\r\n\r\n          {showComments && <FormInputComment id={post._id} socket={socket}></FormInputComment>}\r\n        </div>\r\n      </div>\r\n      <ListReactions\r\n        id={post._id}\r\n        openPopup={openPopupReact}\r\n        setopenPopup={setopenPopupReact}\r\n      ></ListReactions>\r\n\r\n      <EditPostPopup openPopup={openPopup} post={post} setopenPopup={setopenPopup}></EditPostPopup>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}