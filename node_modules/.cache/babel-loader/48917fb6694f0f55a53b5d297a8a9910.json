{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nimport { GET_POSTS, DELETE_POST, POST_SAVED, RESET_SAVED, POST_UPDATED } from \"./types\";\nvar config = {\n  headers: {\n    \"Content-Type\": \"appliation/json\",\n    Authorization: \"Bearer \".concat(localStorage.getItem(\"authToken\"))\n  }\n};\nexport var getPosts = function getPosts() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get(\"https://aaweni.herokuapp.com/pi/postRoute/post\").then(function (res) {\n                dispatch({\n                  type: GET_POSTS,\n                  payload: res.data\n                });\n              }).catch(function (err) {\n                return console.log(err);\n              });\n\n            case 2:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var deletePost = function deletePost(postId) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.delete(\"https://aaweni.herokuapp.com/pi/postRoute/post/\" + postId, config);\n\n            case 3:\n              res = _context2.sent;\n              dispatch({\n                type: DELETE_POST,\n                payload: res.data\n              });\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var createPost = function createPost(post) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return axios.post(\"https://aaweni.herokuapp.com/pi/postRoute/post\", post).then(function (res) {\n                return dispatch({\n                  type: POST_SAVED,\n                  payload: res.data\n                });\n              });\n\n            case 3:\n              return _context3.abrupt(\"return\", _context3.sent);\n\n            case 6:\n              _context3.prev = 6;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.log(_context3.t0);\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 6]]);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var updatePost = function updatePost(postId, post) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return axios.put(\"https://aaweni.herokuapp.com/pi/postRoute/post/\" + postId, post);\n\n            case 3:\n              res = _context4.sent;\n              dispatch({\n                type: POST_UPDATED,\n                payload: res.data\n              });\n              _context4.next = 10;\n              break;\n\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](0);\n              console.log(_context4.t0);\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 7]]);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var resetSaved = function resetSaved() {\n  return {\n    type: RESET_SAVED\n  };\n};","map":{"version":3,"sources":["C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/src/redux/actions/postAction.js"],"names":["axios","GET_POSTS","DELETE_POST","POST_SAVED","RESET_SAVED","POST_UPDATED","config","headers","Authorization","localStorage","getItem","getPosts","dispatch","get","then","res","type","payload","data","catch","err","console","log","deletePost","postId","delete","createPost","post","updatePost","put","resetSaved"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { GET_POSTS, DELETE_POST, POST_SAVED, RESET_SAVED, POST_UPDATED } from \"./types\";\r\nconst config = {\r\n  headers: {\r\n      \"Content-Type\":\"appliation/json\",\r\n      Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\r\n  }\r\n}\r\nexport const getPosts = () => {\r\n  return async (dispatch) => {\r\n    return await axios\r\n      .get(\"https://aaweni.herokuapp.com/pi/postRoute/post\")\r\n      .then((res) => {\r\n        dispatch({ type: GET_POSTS, payload: res.data });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\n\r\nexport const deletePost = (postId) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.delete(\"https://aaweni.herokuapp.com/pi/postRoute/post/\" + postId,config);\r\n\r\n      dispatch({ type: DELETE_POST, payload: res.data });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const createPost = (post) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      return await axios\r\n        .post(\"https://aaweni.herokuapp.com/pi/postRoute/post\", post)\r\n        .then((res) => dispatch({ type: POST_SAVED, payload: res.data }));\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n\r\nexport const updatePost = (postId, post) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.put(\"https://aaweni.herokuapp.com/pi/postRoute/post/\" + postId, post);\r\n\r\n      dispatch({ type: POST_UPDATED, payload: res.data });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const resetSaved = () => ({ type: RESET_SAVED });\r\n"]},"metadata":{},"sourceType":"module"}