{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _slicedToArray from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _asyncToGenerator from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { queryApi } from \"../../utils/queryApi\";\nvar initialState = {\n  courses: [],\n  coursesofuser: [],\n  selectedCourse: [],\n  errors: \"\"\n};\nvar coursesSlice = createSlice({\n  name: \"courses\",\n  initialState: initialState,\n  reducers: {\n    populateCourses: function populateCourses(state, action) {\n      state.courses = action.payload;\n    },\n    selectCourse: function selectCourse(state, action) {\n      state.populateCourses = action.payload;\n    },\n    coursesofuser: function coursesofuser(state, action) {\n      state.coursesofuser = action.payload;\n    },\n    addcourse: function addcourse(state, action) {\n      var payload = action.payload;\n      state.courses.push(payload);\n      state.coursesofuser.push(payload);\n    },\n    updatecourse: function updatecourse(state, action) {\n      var payload = action.payload.course;\n      var index = state.courses.findIndex(function (item) {\n        return item._id === payload._id;\n      });\n      var ind = state.coursesofuser.findIndex(function (item) {\n        return item._id === payload._id;\n      });\n\n      if (index !== -1) {\n        state.courses[index] = payload;\n      }\n\n      if (ind !== -1) {\n        state.coursesofuser[index] = payload;\n      }\n    },\n    deleteCourse: function deleteCourse(state, action) {\n      var payload = action.payload;\n      var index = state.courses.findIndex(function (course) {\n        return course._id === payload;\n      });\n      var ind = state.coursesofuser.findIndex(function (course) {\n        return course._id === payload;\n      });\n\n      if (index !== -1) {\n        state.courses.splice(index, 1);\n      }\n\n      if (ind !== -1) {\n        state.coursesofuser.splice(ind, 1);\n      }\n    },\n    searchcourse: function searchcourse(state, action) {\n      state.courses = action.payload;\n    },\n    filtercoursebylevel: function filtercoursebylevel(state, action) {\n      state.courses = action.payload;\n    },\n    setErrors: function setErrors(state, action) {\n      state.errors = action.payload;\n    }\n  }\n});\nexport var fetchCourses = function fetchCourses() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var _yield$queryApi, _yield$queryApi2, res, error;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return queryApi(\"course\");\n\n            case 2:\n              _yield$queryApi = _context.sent;\n              _yield$queryApi2 = _slicedToArray(_yield$queryApi, 2);\n              res = _yield$queryApi2[0];\n              error = _yield$queryApi2[1];\n\n              if (error) {\n                console.log(error);\n              } else {\n                dispatch(populateCourses(res));\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var fetchCoursesofUser = function fetchCoursesofUser() {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var _yield$queryApi3, _yield$queryApi4, res, error;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return queryApi(\"course/coursesbyuser\", null, \"GET\", false);\n\n            case 2:\n              _yield$queryApi3 = _context2.sent;\n              _yield$queryApi4 = _slicedToArray(_yield$queryApi3, 2);\n              res = _yield$queryApi4[0];\n              error = _yield$queryApi4[1];\n\n              if (error) {\n                console.log(error);\n              } else {\n                dispatch(coursesofuser(res));\n              }\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var searchcoursesbyName = function searchcoursesbyName(Name) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      var _yield$queryApi5, _yield$queryApi6, res, error;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return queryApi(\"course/searchnamelike/\" + Name);\n\n            case 2:\n              _yield$queryApi5 = _context3.sent;\n              _yield$queryApi6 = _slicedToArray(_yield$queryApi5, 2);\n              res = _yield$queryApi6[0];\n              error = _yield$queryApi6[1];\n\n              if (error) {\n                console.log(error);\n              } else {\n                dispatch(searchcourse(res));\n              }\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var filtercoursesbyLevel = function filtercoursesbyLevel(Level) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      var _yield$queryApi7, _yield$queryApi8, res, error;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return queryApi(\"course/filterbylevel/\" + Level);\n\n            case 2:\n              _yield$queryApi7 = _context4.sent;\n              _yield$queryApi8 = _slicedToArray(_yield$queryApi7, 2);\n              res = _yield$queryApi8[0];\n              error = _yield$queryApi8[1];\n\n              if (error) {\n                console.log(error);\n              } else {\n                dispatch(filtercoursebylevel(res));\n              }\n\n            case 7:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var selectCourses = function selectCourses(state) {\n  return [state.courses.courses, state.courses.errors];\n};\nexport var selectCoursesofuser = function selectCoursesofuser(state) {\n  return [state.courses.coursesofuser];\n};\nvar _coursesSlice$actions = coursesSlice.actions,\n    updatecourse = _coursesSlice$actions.updatecourse,\n    coursesofuser = _coursesSlice$actions.coursesofuser,\n    populateCourses = _coursesSlice$actions.populateCourses,\n    addcourse = _coursesSlice$actions.addcourse,\n    searchcourse = _coursesSlice$actions.searchcourse,\n    setErrors = _coursesSlice$actions.setErrors,\n    deleteCourse = _coursesSlice$actions.deleteCourse,\n    selectCourse = _coursesSlice$actions.selectCourse,\n    filtercoursebylevel = _coursesSlice$actions.filtercoursebylevel;\nexport { updatecourse, coursesofuser, populateCourses, addcourse, searchcourse, setErrors, deleteCourse, selectCourse, filtercoursebylevel };\nexport default coursesSlice.reducer;","map":{"version":3,"sources":["C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/src/redux/slices/coursesSlice.js"],"names":["createSlice","queryApi","initialState","courses","coursesofuser","selectedCourse","errors","coursesSlice","name","reducers","populateCourses","state","action","payload","selectCourse","addcourse","push","updatecourse","course","index","findIndex","item","_id","ind","deleteCourse","splice","searchcourse","filtercoursebylevel","setErrors","fetchCourses","dispatch","res","error","console","log","fetchCoursesofUser","searchcoursesbyName","Name","filtercoursesbyLevel","Level","selectCourses","selectCoursesofuser","actions","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { queryApi } from \"../../utils/queryApi\";\r\nlet initialState = {\r\n    courses: [],\r\n    coursesofuser:[],\r\n    selectedCourse:[],\r\n    errors: \"\",\r\n    };\r\nconst coursesSlice=createSlice({\r\n    name: \"courses\",\r\n    initialState,\r\n    reducers: {\r\n        populateCourses(state, action) {\r\n     \r\n        state.courses = action.payload;\r\n        },\r\n   \r\n        selectCourse(state, action) {\r\n       \r\n            state.populateCourses = action.payload;\r\n            },\r\n            coursesofuser(state, action) {\r\n       \r\n                state.coursesofuser = action.payload;\r\n                },\r\n            \r\n        addcourse: (state, action) => {\r\n            const payload = action.payload;\r\n            state.courses.push(payload);\r\n            state.coursesofuser.push(payload);\r\n            },\r\n            updatecourse: (state, action) => {\r\n                const payload = action.payload.course;\r\n              \r\n                const index = state.courses.findIndex(\r\n                (item) => item._id === payload._id\r\n                );\r\n\r\n                const ind = state.coursesofuser.findIndex(\r\n                    (item) => item._id === payload._id\r\n                    );\r\n           \r\n                if (index !== -1) {\r\n                state.courses[index] = payload;\r\n                }\r\n\r\n                if (ind !== -1) {\r\n                    state.coursesofuser[index] = payload;\r\n                    }\r\n                },\r\n        deleteCourse: (state, action) => {\r\n           \r\n            const payload = action.payload;\r\n            const index = state.courses.findIndex((course) => course._id === payload);\r\n            const ind = state.coursesofuser.findIndex((course) => course._id === payload);\r\n            if (index !== -1) {\r\n                state.courses.splice(index, 1);\r\n                               }\r\n                if (ind !== -1) {\r\n          state.coursesofuser.splice(ind, 1);\r\n               }\r\n       },\r\n       searchcourse :(state, action)=>{\r\n        state.courses = action.payload;\r\n        }\r\n       ,\r\n       filtercoursebylevel (state, action){\r\n        state.courses = action.payload;\r\n        }\r\n       ,\r\n      \r\n    \r\n         setErrors(state, action) {\r\n                 state.errors = action.payload;\r\n          },\r\n             },\r\n             \r\n        \r\n        });\r\n\r\nexport const fetchCourses=()=>async(dispatch)=>{\r\n    const [res,error]=await queryApi(\"course\");\r\n    if(error){\r\n        console.log(error);\r\n    }\r\n    else{\r\n        dispatch(populateCourses(res));\r\n    }\r\n}\r\n\r\n\r\nexport const fetchCoursesofUser=()=>async(dispatch)=>{\r\n    const [res,error]=await queryApi(\"course/coursesbyuser\",null,\"GET\",false);\r\n    if(error){\r\n        console.log(error);\r\n    }\r\n    else{\r\n        dispatch(coursesofuser(res));\r\n    }\r\n}\r\n\r\nexport const searchcoursesbyName=(Name)=>async(dispatch)=>{\r\n    const [res,error]=await queryApi(\"course/searchnamelike/\"+Name);\r\n    if(error){\r\n        console.log(error);\r\n    }\r\n    else{\r\n      dispatch(searchcourse(res));\r\n    }\r\n}\r\n\r\n\r\nexport const filtercoursesbyLevel=(Level)=>async(dispatch)=>{\r\n    const [res,error]=await queryApi(\"course/filterbylevel/\"+Level);\r\n    if(error){\r\n        console.log(error);\r\n    }\r\n    else{\r\n        dispatch(filtercoursebylevel(res));\r\n    }\r\n}\r\nexport const selectCourses=(state)=>{\r\n    return [state.courses.courses,state.courses.errors];\r\n}\r\n\r\nexport const selectCoursesofuser=(state)=>{\r\n    return [state.courses.coursesofuser];\r\n}\r\nexport const {updatecourse,coursesofuser,populateCourses,addcourse,searchcourse,setErrors,deleteCourse,selectCourse,filtercoursebylevel}=coursesSlice.actions;\r\nexport default coursesSlice.reducer;"]},"metadata":{},"sourceType":"module"}