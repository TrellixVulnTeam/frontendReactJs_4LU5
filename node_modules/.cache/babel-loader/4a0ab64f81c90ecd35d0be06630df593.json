{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\siwar\\\\Desktop\\\\front\\\\src\\\\user\\\\components\\\\screens\\\\LoginScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport \"./screen.css\";\nimport { GoogleLogin } from 'react-google-login';\n/*const initialState = {\r\n    email: '',\r\n    password: '',\r\n    err: ''\r\n}*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginScreen = ({\n  history\n}) => {\n  _s();\n\n  // const [user,setUser] = useState(initialState);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    if (localStorage.getItem(\"authToken\")) {\n      history.push(\"/\");\n    }\n  }, [history]);\n\n  const loginHandler = async e => {\n    e.preventDefault();\n    const config = {\n      header: {\n        \"Content-Type\": \"appliation/json\"\n      }\n    };\n\n    try {\n      const {\n        data\n      } = await axios.post(\"/api/auth/login\", {\n        email,\n        password\n      }, config);\n      localStorage.setItem(\"authToken\", data.token);\n      history.push(\"/\");\n    } catch (error) {\n      setError(error.response.data.error);\n      setTimeout(() => {\n        setError(\"\");\n      }, 5000);\n    }\n  };\n\n  const responseSuccessGoogle = async response => {\n    const config = {\n      header: {\n        \"Content-Type\": \"appliation/json\"\n      }\n    };\n\n    try {\n      const {\n        data\n      } = await axios.post('/api/auth/googlelogin', {\n        tokenId: response.tokenId\n      }, config);\n      localStorage.setItem(\"authToken\", data.token);\n      history.push(\"/\");\n    } catch (err) {\n      setError(error.response.data.error);\n      setTimeout(() => {\n        setError(\"\");\n      }, 5000);\n    }\n  };\n\n  const responseErrorGoogle = async response => {};\n\n  return /*#__PURE__*/_jsxDEV(\"body\", {\n    style: {\n      background: \"#f3f4f6\",\n      height: \"650px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"lg:p-12 max-w-xl lg:my-0 my-12 mx-auto p-6 space-y-\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: loginHandler,\n        class: \"lg:p-10 p-6 space-y-3 relative bg-white shadow-xl rounded-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          class: \"lg:text-2xl text-xl font-semibold mb-6\",\n          children: \" Login \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            class: \"mb-0\",\n            children: \" Email Address \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            placeholder: \"Info@example.com\",\n            id: \"email\",\n            required: true,\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            tabIndex: 1,\n            class: \"bg-gray-100 h-12 mt-2 px-3 rounded-md w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            class: \"mb-0\",\n            children: [\" Password\", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/forgotpassword\",\n              tabIndex: 4,\n              children: \"Forgot Password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"******\",\n            id: \"password\",\n            required: true,\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            tabIndex: 2,\n            class: \"bg-gray-100 h-12 mt-2 px-3 rounded-md w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: 'red'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 35\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            tabIndex: 3,\n            class: \"bg-blue-600 font-semibold p-2 mt-5 rounded-md text-center text-white w-full\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Don't have an account ? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 55\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(GoogleLogin, {\n          clientId: \"978518760089-h0ncc4su74ie7jp6p4e6phm55fkg3r82.apps.googleusercontent.com\",\n          buttonText: \"Login With Google\",\n          onSuccess: responseSuccessGoogle,\n          onFailure: responseErrorGoogle,\n          cookiePolicy: 'single_host_origin'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 13\n  }, this);\n};\n\n_s(LoginScreen, \"8U/OabU8FwTNvYwfZel/UK3ReX4=\");\n\n_c = LoginScreen;\nexport default LoginScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginScreen\");","map":{"version":3,"sources":["C:/Users/siwar/Desktop/front/src/user/components/screens/LoginScreen.js"],"names":["React","useState","useEffect","Link","axios","GoogleLogin","LoginScreen","history","email","setEmail","password","setPassword","error","setError","localStorage","getItem","push","loginHandler","e","preventDefault","config","header","data","post","setItem","token","response","setTimeout","responseSuccessGoogle","tokenId","err","responseErrorGoogle","background","height","target","value","color"],"mappings":"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","sourcesContent":["import React,{useState , useEffect} from 'react';\r\nimport {Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport \"./screen.css\";\r\nimport { GoogleLogin } from 'react-google-login';\r\n\r\n/*const initialState = {\r\n    email: '',\r\n    password: '',\r\n    err: ''\r\n}*/\r\n\r\nconst LoginScreen = ({history}) =>{\r\n   // const [user,setUser] = useState(initialState);\r\n    const [email, setEmail]= useState(\"\");\r\n    const [password, setPassword]= useState(\"\");\r\n    const [error, setError]= useState(\"\");\r\n\r\n    \r\n\r\n    useEffect(() => {\r\n        if(localStorage.getItem(\"authToken\")){\r\n            history.push(\"/\");\r\n        }\r\n    }, [history]);\r\n\r\n    const loginHandler = async (e) =>{\r\n        e.preventDefault();\r\n        const config = {\r\n            header: {\r\n                \"Content-Type\":\"appliation/json\"\r\n            },\r\n        };\r\n\r\n        try {\r\n            const {data} = await axios.post(\r\n                \"/api/auth/login\", \r\n                {email, password},\r\n                config);\r\n            localStorage.setItem(\"authToken\", data.token);\r\n            history.push(\"/\");\r\n        } catch (error) {\r\n            setError(error.response.data.error);\r\n            setTimeout(() => {\r\n                setError(\"\");\r\n            }, 5000);\r\n        }\r\n    }\r\n\r\n\r\n    const responseSuccessGoogle = async (response) => {\r\n         const config = {\r\n            header: {\r\n                \"Content-Type\":\"appliation/json\"\r\n            },\r\n        };\r\n         try {\r\n            const {data} = await axios.post(\r\n                '/api/auth/googlelogin',\r\n                {tokenId: response.tokenId},\r\n                config);\r\n           \r\n            localStorage.setItem(\"authToken\", data.token)\r\n            history.push(\"/\")\r\n        } catch (err) {\r\n            setError(error.response.data.error);\r\n            setTimeout(() => {\r\n                setError(\"\");\r\n            }, 5000);\r\n        }\r\n    }\r\n\r\n    const responseErrorGoogle = async (response) => {\r\n        \r\n    }\r\n\r\n\r\n    return(\r\n\r\n            <body style={{background:\"#f3f4f6\",height:\"650px\"}}>\r\n                <div class=\"lg:p-12 max-w-xl lg:my-0 my-12 mx-auto p-6 space-y-\">\r\n                    <form onSubmit={loginHandler} class=\"lg:p-10 p-6 space-y-3 relative bg-white shadow-xl rounded-md\">\r\n                        <h1 class=\"lg:text-2xl text-xl font-semibold mb-6\"> Login </h1>\r\n                        \r\n                        <div>\r\n                            <label htmlFor=\"email\" class=\"mb-0\"> Email Address </label>\r\n                            <input type=\"email\" placeholder=\"Info@example.com\" id=\"email\" required value={email} onChange={(e) => setEmail(e.target.value)} tabIndex={1} class=\"bg-gray-100 h-12 mt-2 px-3 rounded-md w-full\"/>\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"password\" class=\"mb-0\"> Password \r\n                            <Link to=\"/forgotpassword\" tabIndex={4}>Forgot Password?</Link>\r\n                            </label>\r\n                            <input type=\"password\" placeholder=\"******\" id=\"password\" required value={password} onChange={(e) => setPassword(e.target.value)} tabIndex={2} class=\"bg-gray-100 h-12 mt-2 px-3 rounded-md w-full\"/>\r\n                        </div>\r\n                        {error && <span style={{color:'red'}}>{error}</span>}\r\n                        <div>\r\n                            <button type=\"submit\" tabIndex={3} class=\"bg-blue-600 font-semibold p-2 mt-5 rounded-md text-center text-white w-full\">\r\n                                Login</button>\r\n                        </div>\r\n                        <span>Don't have an account ? <Link to=\"/register\">Register</Link> </span>\r\n                        <GoogleLogin\r\n                            clientId=\"978518760089-h0ncc4su74ie7jp6p4e6phm55fkg3r82.apps.googleusercontent.com\"\r\n                            buttonText=\"Login With Google\"\r\n                            onSuccess={responseSuccessGoogle}\r\n                            onFailure={responseErrorGoogle}\r\n                            cookiePolicy={'single_host_origin'}\r\n                        />\r\n                    </form>\r\n                </div>\r\n            </body>\r\n    )\r\n}\r\n\r\nexport default LoginScreen;"]},"metadata":{},"sourceType":"module"}