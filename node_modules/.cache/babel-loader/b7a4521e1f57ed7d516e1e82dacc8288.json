{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\chaki\\\\OneDrive\\\\Desktop\\\\aymenouerghui\\\\frontendReactJs\\\\src\\\\user\\\\components\\\\screens\\\\pages\\\\MyPagesScreen.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Header from '../../Header';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectMyPages, deleteMyPage } from \"../../../../redux/slices/mypagesSlice\";\nimport HeaderWithoutLeftPanel from '../../HeaderWithoutLeftPanel';\nimport LeftPanelPage from '../../LeftPanelPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar MyPagesScreen = function MyPagesScreen(_ref) {\n  _s();\n\n  var history = _ref.history;\n\n  var _useSelector = useSelector(selectMyPages),\n      _useSelector2 = _slicedToArray(_useSelector, 3),\n      mypages = _useSelector2[0],\n      err = _useSelector2[1],\n      reload = _useSelector2[2];\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1]; //const [pages, setPages]= useState([]);\n\n\n  useEffect(function () {\n    if (!localStorage.getItem(\"authToken\")) {\n      history.push(\"/login\");\n    }\n    /*       const config = {\r\n               headers: {\r\n                   \"Content-Type\":\"appliation/json\",\r\n                   Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\r\n               }\r\n           }\r\n             axios.get(`https://aaweni.herokuapp.com/page/getMyPages`, config)\r\n           .then((response) => {\r\n            setPages(response.data);\r\n            console.log(response.data)\r\n           })\r\n           .catch((error) => {\r\n             console.log(error)\r\n           })*/\n\n  }, [history]);\n  var dispatch = useDispatch();\n\n  var deleteHandler = function deleteHandler(id) {\n    return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var headers;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              headers = {\n                'Content-Type': 'application/json',\n                Authorization: \"Bearer \".concat(localStorage.getItem(\"authToken\"))\n              };\n              axios.delete(\"https://aaweni.herokuapp.com/page/delete/\".concat(id), {\n                headers: headers\n              }).then(function (response) {\n                dispatch(deleteMyPage(id));\n              }).catch(function (error) {\n                console.log(error);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(HeaderWithoutLeftPanel, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 10\n    }, _this), /*#__PURE__*/_jsxDEV(LeftPanelPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(\"body\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"main_content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"mcontainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"flex justify-between relative md:mb-4 mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  class: \"text-3xl font-semibold\",\n                  children: \" Pages \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 33\n                }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  style: {\n                    width: '350px',\n                    height: '80px',\n                    marginLeft: '530px'\n                  },\n                  type: \"text\",\n                  placeholder: \"search...\",\n                  onChange: function onChange(e) {\n                    setSearch(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 33\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 29\n              }, _this), /*#__PURE__*/_jsxDEV(\"nav\", {\n                class: \"cd-secondary-nav border-b md:m-0 -mx-4\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/pages\",\n                      class: \"lg:px-2\",\n                      children: \"Pages \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 75,\n                      columnNumber: 45\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 41\n                  }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    class: \"active\",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/mypages\",\n                      class: \"lg:px-2\",\n                      children: \"My pages \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 76,\n                      columnNumber: 60\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 41\n                  }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/statistic\",\n                      class: \"lg:px-2\",\n                      children: \"Statistic \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 77,\n                      columnNumber: 45\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 41\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 37\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 21\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"divide-y\",\n            children: mypages === null || mypages === void 0 ? void 0 : mypages.filter(function (val) {\n              if (search == \"\") {\n                return val;\n              } else if (val.name.toLowerCase().includes(search.toLowerCase())) {\n                return val;\n              }\n            }).map(function (val, key) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"lg:flex lg:space-x-6 py-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"#\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"lg:w-60 w-full h-40 overflow-hidden rounded-lg relative shadow-sm\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: \"assets/uploads/\".concat(val.profilePicture),\n                        alt: \"\",\n                        class: \"w-full h-full absolute inset-0 object-cover\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 100,\n                        columnNumber: 42\n                      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"absolute bg-blue-100 font-semibold px-2.5 py-1 rounded-full text-blue-500 text-xs top-2.5 left-2.5\",\n                        children: val.type\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 101,\n                        columnNumber: 42\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 37\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 33\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"flex-1 lg:pt-0 pt-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row\",\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: \"/pagedetails/\".concat(val._id),\n                        class: \"text-xl font-semibold line-clamp-2\",\n                        children: [\" \", val.name, \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 108,\n                        columnNumber: 33\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 107,\n                      columnNumber: 35\n                    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      class: \"line-clamp-2 pt-1\",\n                      children: \" \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 37\n                    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"flex items-center mt-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: \"assets/user/images/avatars/avatar-2.jpg\",\n                        class: \"w-6 rounded-full border-2 border-gray-200 -mr-2\",\n                        alt: \"\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 113,\n                        columnNumber: 45\n                      }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: \"assets/user/images/avatars/avatar-4.jpg\",\n                        class: \"w-6 rounded-full border-2 border-gray-200\",\n                        alt: \"\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 45\n                      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"text-sm text-gray-500 ml-2\",\n                        children: \" 2 friends are members\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 115,\n                        columnNumber: 45\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 41\n                    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"flex space-x-2 items-center text-sm\",\n                      children: [/*#__PURE__*/_jsxDEV(Link, {\n                        to: \"/editpage/\".concat(val._id),\n                        class: \"text-xl font-semibold line-clamp-2\",\n                        style: {\n                          marginLeft: '550px',\n                          fontSize: '13px'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"assets/user/images/edit1.png\",\n                          style: {\n                            width: '22px',\n                            height: '25px'\n                          },\n                          alt: \"\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 119,\n                          columnNumber: 163\n                        }, _this), \"Edit\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 119,\n                        columnNumber: 41\n                      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: deleteHandler(val._id),\n                        class: \"text-xl font-semibold line-clamp-2\",\n                        style: {\n                          marginLeft: '10px',\n                          fontSize: '13px',\n                          color: '#fe5a1d'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"assets/user/images/supp5.png\",\n                          style: {\n                            width: '23px',\n                            height: '23px'\n                          },\n                          alt: \"\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 120,\n                          columnNumber: 186\n                        }, _this), \"Delete\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 120,\n                        columnNumber: 41\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 41\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 33\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 29\n                }, _this)\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 33\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(MyPagesScreen, \"dxdhgRZWpHQeitF+06dcMKd6a4I=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = MyPagesScreen;\nexport default MyPagesScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyPagesScreen\");","map":{"version":3,"sources":["C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/src/user/components/screens/pages/MyPagesScreen.js"],"names":["React","useState","useEffect","Link","axios","Header","useDispatch","useSelector","selectMyPages","deleteMyPage","HeaderWithoutLeftPanel","LeftPanelPage","MyPagesScreen","history","mypages","err","reload","search","setSearch","localStorage","getItem","push","dispatch","deleteHandler","id","headers","Authorization","delete","then","response","catch","error","console","log","width","height","marginLeft","e","target","value","filter","val","name","toLowerCase","includes","map","key","profilePicture","type","_id","fontSize","color"],"mappings":"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","sourcesContent":["import React ,{useState , useEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Header from '../../Header';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport { selectMyPages, deleteMyPage} from \"../../../../redux/slices/mypagesSlice\";\r\nimport HeaderWithoutLeftPanel from '../../HeaderWithoutLeftPanel';\r\nimport LeftPanelPage from '../../LeftPanelPage';\r\nconst MyPagesScreen = ({history}) =>{\r\n\r\n    const [mypages,  err, reload] =useSelector(selectMyPages);\r\n    const [search, setSearch]= useState('');\r\n    //const [pages, setPages]= useState([]);\r\n    useEffect(() => {\r\n        if(!localStorage.getItem(\"authToken\")){\r\n            history.push(\"/login\")\r\n        }\r\n           \r\n         /*       const config = {\r\n                    headers: {\r\n                        \"Content-Type\":\"appliation/json\",\r\n                        Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\r\n                    }\r\n                }\r\n\r\n                axios.get(`https://aaweni.herokuapp.com/page/getMyPages`, config)\r\n                .then((response) => {\r\n                 setPages(response.data);\r\n                 console.log(response.data)\r\n                })\r\n                .catch((error) => {\r\n                  console.log(error)\r\n                })*/\r\n                \r\n            }\r\n           \r\n    ,[history]);\r\n\r\n    const dispatch =useDispatch();\r\n\r\n    const deleteHandler = (id) =>async () => {\r\n        const headers = {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\r\n          }\r\n    \r\n        axios.delete(`https://aaweni.herokuapp.com/page/delete/${id}`, {\r\n            headers: headers\r\n          })\r\n          .then((response) => {\r\n           dispatch(deleteMyPage(id));\r\n          })\r\n          .catch((error) => {\r\n            console.log(error)\r\n          })\r\n       }\r\n    \r\n    return (\r\n        <>\r\n         <HeaderWithoutLeftPanel/>\r\n        <LeftPanelPage/>\r\n        <body>\r\n        <div class=\"main_content\">\r\n            <div class=\"mcontainer\">\r\n\r\n               \r\n                    <div class=\"flex justify-between relative md:mb-4 mb-3\">\r\n                            <div class=\"flex-1\">\r\n                            <div className=\"row\">\r\n                                <h2 class=\"text-3xl font-semibold\"> Pages </h2>\r\n                                <input style={{width:'350px', height:'80px', marginLeft:'530px'}} type=\"text\" placeholder=\"search...\" onChange={e => {setSearch(e.target.value)}}/>\r\n                                </div>\r\n                                <nav class=\"cd-secondary-nav border-b md:m-0 -mx-4\">\r\n                                    <ul>\r\n                                        <li><Link to=\"/pages\" class=\"lg:px-2\">Pages </Link></li>\r\n                                        <li class=\"active\"><Link to=\"/mypages\" class=\"lg:px-2\">My pages </Link></li>\r\n                                        <li><Link to=\"/statistic\" class=\"lg:px-2\">Statistic </Link></li>\r\n                                    </ul>\r\n                                </nav>\r\n                            </div>\r\n                            \r\n                        </div>\r\n\r\n\r\n\r\n                        <div class=\"divide-y\">\r\n                        { mypages?.filter((val)=>{\r\n                            if(search == \"\"){\r\n                                return val\r\n                            }else if (val.name.toLowerCase().includes(search.toLowerCase())){\r\n                                return val\r\n                            }\r\n                        }).map((val,key) => {\r\n                            return(\r\n                                <div key={key}>\r\n                            \r\n                            <div class=\"lg:flex lg:space-x-6 py-6\">\r\n                                <a href=\"#\">\r\n                                    <div class=\"lg:w-60 w-full h-40 overflow-hidden rounded-lg relative shadow-sm\"> \r\n                                         <img src={`assets/uploads/${val.profilePicture}`} alt=\"\" class=\"w-full h-full absolute inset-0 object-cover\"/>\r\n                                         <div class=\"absolute bg-blue-100 font-semibold px-2.5 py-1 rounded-full text-blue-500 text-xs top-2.5 left-2.5\">\r\n                                         {val.type}\r\n                                         </div>\r\n                                    </div>\r\n                                </a>\r\n                                <div class=\"flex-1 lg:pt-0 pt-4\"> \r\n                                  <div className='row'>   \r\n                                <Link to={`/pagedetails/${val._id}`} class=\"text-xl font-semibold line-clamp-2\"> {val.name} </Link> \r\n                                \r\n                                    </div>\r\n                                    <p class=\"line-clamp-2 pt-1\"> </p>\r\n                                        <div class=\"flex items-center mt-2\">\r\n                                            <img src=\"assets/user/images/avatars/avatar-2.jpg\" class=\"w-6 rounded-full border-2 border-gray-200 -mr-2\" alt=\"\"/>\r\n                                            <img src=\"assets/user/images/avatars/avatar-4.jpg\" class=\"w-6 rounded-full border-2 border-gray-200\" alt=\"\"/>\r\n                                            <div class=\"text-sm text-gray-500 ml-2\"> 2 friends are members</div>\r\n                                        </div>\r\n                                        <div class=\"flex space-x-2 items-center text-sm\">\r\n                                       \r\n                                        <Link to={`/editpage/${val._id}`} class=\"text-xl font-semibold line-clamp-2\" style={{marginLeft:'550px',fontSize:'13px'}}><img src=\"assets/user/images/edit1.png\" style={{width:'22px', height:'25px'}} alt=\"\"/>Edit</Link>\r\n                                        <button onClick={deleteHandler(val._id)} class=\"text-xl font-semibold line-clamp-2\" style={{marginLeft:'10px',fontSize:'13px',color:'#fe5a1d'}} ><img src=\"assets/user/images/supp5.png\" style={{width:'23px', height:'23px'}} alt=\"\"/>Delete</button>\r\n                                        </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        ) \r\n                        })}\r\n\r\n                    </div>\r\n\r\n\r\n           {/**             <div class=\"relative\" uk-slider=\"finite: true\">\r\n                            <div class=\"uk-slider-container px-1 py-3\">\r\n                                <ul class=\"uk-slider-items uk-child-width-1-4@m uk-child-width-1-3@s uk-child-width-1-2 uk-grid-small uk-grid\">\r\n                                { pages.map((val,key) => {\r\n                            return(\r\n                                <div key={key}>\r\n                                    <li >\r\n                                    <Link to={`/pagedetails/${val._id}`}><a>\r\n                                            <img src={`assets/uploads/${val.profilePicture}`} class=\"w-full h-48 rounded-lg shadow-sm object-cover\"/>\r\n                                            <div class=\"pt-2\">\r\n                                               <h4 class=\"text-lg font-semibold\"> {val.name} </h4>\r\n                                            </div>\r\n                                       </a></Link>\r\n                                       <a href=\"#\" class=\"flex items-center justify-center h-9 lg:px-5 px-2 rounded-md bg-blue-600 text-white space-x-1.5 absolute right-0\">\r\n                                \r\n                                                    <Link to=\"/createpage\" class=\"md:block\" style={{color:\"white\"}}>Edit </Link>\r\n                                                </a> \r\n                                    </li>\r\n                                </div>\r\n                            )})}\r\n                        \r\n                                </ul>\r\n                        \r\n                                <a class=\"absolute bg-white bottom-1/2 flex items-center justify-center p-2 -left-4 rounded-full shadow-md text-xl w-9 z-10 dark:bg-gray-800 dark:text-white\"\r\n                                    href=\"#\" uk-slider-item=\"previous\"> <i class=\"icon-feather-chevron-left\"></i></a>\r\n                                <a class=\"absolute bg-white bottom-1/2 flex items-center justify-center p-2 -right-4 rounded-full shadow-md text-xl w-9 z-10 dark:bg-gray-800 dark:text-white\"\r\n                                    href=\"#\" uk-slider-item=\"next\"> <i class=\"icon-feather-chevron-right\"></i></a>\r\n                        \r\n                            </div>\r\n                        </div>\r\n\r\n */}\r\n                         \r\n                   \r\n\r\n        \r\n            </div>\r\n        </div>\r\n        </body>\r\n        </>\r\n    )\r\n}\r\nexport default MyPagesScreen;\r\n"]},"metadata":{},"sourceType":"module"}