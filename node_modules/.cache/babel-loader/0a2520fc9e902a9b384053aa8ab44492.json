{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\siwar\\\\Desktop\\\\front\\\\src\\\\user\\\\components\\\\screens\\\\RegisterScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport \"./screen.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RegisterScreen = ({\n  history\n}) => {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    if (localStorage.getItem(\"authToken\")) {\n      history.push(\"/\");\n    }\n  }, [history]);\n\n  const registerHandler = async e => {\n    e.preventDefault();\n    const config = {\n      header: {\n        \"Content-Type\": \"appliation/json\"\n      }\n    };\n\n    if (password !== confirmPassword) {\n      setPassword(\"\");\n      setConfirmPassword(\"\");\n      setTimeout(() => {\n        setError(\"\");\n      }, 5000);\n      return setError(\"Passwords do not match\");\n    }\n\n    try {\n      const {\n        data\n      } = await axios.post(\"/api/auth/register\", {\n        username,\n        email,\n        password\n      }, config);\n      localStorage.setItem(\"authToken\", data.token);\n      history.push(\"/\");\n    } catch (error) {\n      setError(error.response.data.error);\n      setTimeout(() => {\n        setError(\"\");\n      }, 5000);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"body\", {\n    style: {\n      background: \"#f3f4f6\",\n      height: \"650px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"lg:p-12 max-w-xl lg:my-0 my-12 mx-auto p-6 space-y-\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: registerHandler,\n        class: \"lg:p-10 p-6 space-y-3 relative bg-white shadow-xl rounded-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          class: \"lg:text-2xl text-xl font-semibold mb-6\",\n          children: \" Register \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            class: \"mb-0\",\n            children: \" Username \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Username\",\n            id: \"name\",\n            required: true,\n            value: username,\n            onChange: e => setUsername(e.target.value),\n            class: \"bg-gray-100 h-12 mt-2 px-3 rounded-md w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            class: \"mb-0\",\n            children: \" Email Address \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            placeholder: \"Info@example.com\",\n            id: \"email\",\n            required: true,\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            class: \"bg-gray-100 h-12 mt-2 px-3 rounded-md w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            class: \"mb-0\",\n            children: \" Password \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"******\",\n            id: \"password\",\n            required: true,\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            class: \"bg-gray-100 h-12 mt-2 px-3 rounded-md w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"confpassword\",\n            class: \"mb-0\",\n            children: \" Confirm Password \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"******\",\n            id: \"confpassword\",\n            required: true,\n            value: confirmPassword,\n            onChange: e => setConfirmPassword(e.target.value),\n            class: \"bg-gray-100 h-12 mt-2 px-3 rounded-md w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: 'red'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 35\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            class: \"bg-blue-600 font-semibold p-2 mt-5 rounded-md text-center text-white w-full\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Already have an account ? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 57\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 13\n  }, this);\n};\n\n_s(RegisterScreen, \"YzaRAop/Ucqnv2FikZY7izlEvXE=\");\n\n_c = RegisterScreen;\nexport default RegisterScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterScreen\");","map":{"version":3,"sources":["C:/Users/siwar/Desktop/front/src/user/components/screens/RegisterScreen.js"],"names":["React","useState","useEffect","Link","axios","RegisterScreen","history","username","setUsername","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","localStorage","getItem","push","registerHandler","e","preventDefault","config","header","setTimeout","data","post","setItem","token","response","background","height","target","value","color"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react';\r\nimport {Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport \"./screen.css\";\r\n\r\n\r\nconst RegisterScreen = ({history}) =>{\r\n\r\n    const [username, setUsername]= useState(\"\");\r\n    const [email, setEmail]= useState(\"\");\r\n    const [password, setPassword]= useState(\"\");\r\n    const [confirmPassword, setConfirmPassword]= useState(\"\");\r\n    const [error, setError]= useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if(localStorage.getItem(\"authToken\")){\r\n            history.push(\"/\");\r\n        }\r\n    }, [history]);\r\n\r\n    const registerHandler = async (e) =>{\r\n        e.preventDefault();\r\n        const config = {\r\n            header: {\r\n                \"Content-Type\":\"appliation/json\"\r\n            }\r\n        }\r\n\r\n        if(password !== confirmPassword){\r\n            setPassword(\"\");\r\n            setConfirmPassword(\"\");\r\n            setTimeout(() =>{\r\n                setError(\"\")\r\n            }, 5000);\r\n            return setError(\"Passwords do not match\")\r\n        }\r\n\r\n        try {\r\n            const {data} = await axios.post(\r\n                \"/api/auth/register\", \r\n                {username, email, password},\r\n                config);\r\n            localStorage.setItem(\"authToken\", data.token);\r\n            history.push(\"/\");\r\n        } catch (error) {\r\n            setError(error.response.data.error);\r\n            setTimeout(() => {\r\n                setError(\"\");\r\n            }, 5000);\r\n        }\r\n    }\r\n\r\n    return(\r\n            <body style={{background:\"#f3f4f6\",height:\"650px\"}}>\r\n                <div class=\"lg:p-12 max-w-xl lg:my-0 my-12 mx-auto p-6 space-y-\">\r\n                    <form onSubmit={registerHandler} class=\"lg:p-10 p-6 space-y-3 relative bg-white shadow-xl rounded-md\">\r\n                        <h1 class=\"lg:text-2xl text-xl font-semibold mb-6\"> Register </h1>\r\n                        \r\n                        <div>\r\n                            <label htmlFor=\"name\" class=\"mb-0\"> Username </label>\r\n                            <input type=\"text\" placeholder=\"Username\" id=\"name\" required value={username} onChange={(e) => setUsername(e.target.value)} class=\"bg-gray-100 h-12 mt-2 px-3 rounded-md w-full\"/>\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"email\" class=\"mb-0\"> Email Address </label>\r\n                            <input type=\"email\" placeholder=\"Info@example.com\" id=\"email\" required value={email} onChange={(e) => setEmail(e.target.value)} class=\"bg-gray-100 h-12 mt-2 px-3 rounded-md w-full\"/>\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"password\" class=\"mb-0\"> Password </label>\r\n                            <input type=\"password\" placeholder=\"******\" id=\"password\" required value={password} onChange={(e) => setPassword(e.target.value)} class=\"bg-gray-100 h-12 mt-2 px-3 rounded-md w-full\"/>\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"confpassword\" class=\"mb-0\"> Confirm Password </label>\r\n                            <input type=\"password\" placeholder=\"******\" id=\"confpassword\" required value={confirmPassword} onChange={(e) => setConfirmPassword(e.target.value)} class=\"bg-gray-100 h-12 mt-2 px-3 rounded-md w-full\"/>\r\n                        </div>\r\n                        {error && <span style={{color:'red'}}>{error}</span>}\r\n                        <div>\r\n                            <button type=\"submit\" class=\"bg-blue-600 font-semibold p-2 mt-5 rounded-md text-center text-white w-full\">\r\n                                Register</button>\r\n                        </div>\r\n                        <span>Already have an account ? <Link to=\"/login\">Login</Link> </span>\r\n                    </form>\r\n\r\n\r\n                </div>\r\n            </body>\r\n    )\r\n}\r\n\r\nexport default RegisterScreen;"]},"metadata":{},"sourceType":"module"}