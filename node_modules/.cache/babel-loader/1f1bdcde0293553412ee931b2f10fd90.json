{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _slicedToArray from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _asyncToGenerator from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { queryApi } from \"../../utils/queryApi\";\nvar initialState = {\n  favoris: [],\n  selectedFavoris: [],\n  errors: \"\"\n};\nvar favorisSlice = createSlice({\n  name: \"favoris\",\n  initialState: initialState,\n  reducers: {\n    populateFavoris: function populateFavoris(state, action) {\n      state.favoris = action.payload;\n    },\n    selectFavoris: function selectFavoris(state, action) {\n      state.populateFavoris = action.payload;\n    },\n    addfavoris: function addfavoris(state, action) {\n      var payload = action.payload;\n      state.favoris.push(payload);\n    },\n    deleteFavoris: function deleteFavoris(state, action) {\n      var payload = action.payload;\n      var index = state.favoris.findIndex(function (fav) {\n        return fav._id === payload;\n      });\n\n      if (index !== -1) {\n        state.favoris.splice(index, 1);\n      }\n    },\n    setErrorsf: function setErrorsf(state, action) {\n      state.errors = action.payload;\n    }\n  }\n});\nexport var fetchFavoris = function fetchFavoris() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var _yield$queryApi, _yield$queryApi2, res, error;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return queryApi(\"favoris/displayf\");\n\n            case 2:\n              _yield$queryApi = _context.sent;\n              _yield$queryApi2 = _slicedToArray(_yield$queryApi, 2);\n              res = _yield$queryApi2[0];\n              error = _yield$queryApi2[1];\n\n              if (error) {\n                console.log(error);\n              } else {\n                dispatch(populateFavoris(res));\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var selectFavoris = function selectFavoris(state) {\n  return [state.favoris.favoris, state.favoris.errors];\n};\nvar _favorisSlice$actions = favorisSlice.actions,\n    populateFavoris = _favorisSlice$actions.populateFavoris,\n    addfavoris = _favorisSlice$actions.addfavoris,\n    setErrorsf = _favorisSlice$actions.setErrorsf,\n    deleteFavoris = _favorisSlice$actions.deleteFavoris;\nexport { populateFavoris, addfavoris, setErrorsf, deleteFavoris };\nexport default favorisSlice.reducer;","map":{"version":3,"sources":["C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/src/redux/slices/favorisSlice.js"],"names":["createSlice","queryApi","initialState","favoris","selectedFavoris","errors","favorisSlice","name","reducers","populateFavoris","state","action","payload","selectFavoris","addfavoris","push","deleteFavoris","index","findIndex","fav","_id","splice","setErrorsf","fetchFavoris","dispatch","res","error","console","log","actions","reducer"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,SAASC,QAAT,QAAyB,sBAAzB;AACA,IAAIC,YAAY,GAAG;AACfC,EAAAA,OAAO,EAAE,EADM;AAGfC,EAAAA,eAAe,EAAC,EAHD;AAIfC,EAAAA,MAAM,EAAE;AAJO,CAAnB;AAMA,IAAMC,YAAY,GAACN,WAAW,CAAC;AAC3BO,EAAAA,IAAI,EAAE,SADqB;AAE3BL,EAAAA,YAAY,EAAZA,YAF2B;AAG3BM,EAAAA,QAAQ,EAAE;AACNC,IAAAA,eADM,2BACUC,KADV,EACiBC,MADjB,EACyB;AAE/BD,MAAAA,KAAK,CAACP,OAAN,GAAgBQ,MAAM,CAACC,OAAvB;AACC,KAJK;AAMNC,IAAAA,aANM,yBAMQH,KANR,EAMeC,MANf,EAMuB;AAEzBD,MAAAA,KAAK,CAACD,eAAN,GAAwBE,MAAM,CAACC,OAA/B;AACC,KATC;AAYNE,IAAAA,UAAU,EAAE,oBAACJ,KAAD,EAAQC,MAAR,EAAmB;AAC3B,UAAMC,OAAO,GAAGD,MAAM,CAACC,OAAvB;AACAF,MAAAA,KAAK,CAACP,OAAN,CAAcY,IAAd,CAAmBH,OAAnB;AAGC,KAjBC;AAmBNI,IAAAA,aAAa,EAAE,uBAACN,KAAD,EAAQC,MAAR,EAAmB;AAE9B,UAAMC,OAAO,GAAGD,MAAM,CAACC,OAAvB;AACA,UAAMK,KAAK,GAAGP,KAAK,CAACP,OAAN,CAAce,SAAd,CAAwB,UAACC,GAAD;AAAA,eAASA,GAAG,CAACC,GAAJ,KAAYR,OAArB;AAAA,OAAxB,CAAd;;AAEA,UAAIK,KAAK,KAAK,CAAC,CAAf,EAAkB;AACdP,QAAAA,KAAK,CAACP,OAAN,CAAckB,MAAd,CAAqBJ,KAArB,EAA4B,CAA5B;AACF;AAEN,KA5BM;AAgCPK,IAAAA,UAhCO,sBAgCIZ,KAhCJ,EAgCWC,MAhCX,EAgCmB;AAChBD,MAAAA,KAAK,CAACL,MAAN,GAAeM,MAAM,CAACC,OAAtB;AACN;AAlCG;AAHiB,CAAD,CAA9B;AA2CA,OAAO,IAAMW,YAAY,GAAC,SAAbA,YAAa;AAAA;AAAA,wEAAI,iBAAMC,QAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACFvB,QAAQ,CAAC,kBAAD,CADN;;AAAA;AAAA;AAAA;AACnBwB,cAAAA,GADmB;AACfC,cAAAA,KADe;;AAE1B,kBAAGA,KAAH,EAAS;AACLC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,eAFD,MAGI;AACAF,gBAAAA,QAAQ,CAACf,eAAe,CAACgB,GAAD,CAAhB,CAAR;AACH;;AAPyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAnB;AAeP,OAAO,IAAMZ,aAAa,GAAC,SAAdA,aAAc,CAACH,KAAD,EAAS;AAChC,SAAO,CAACA,KAAK,CAACP,OAAN,CAAcA,OAAf,EAAuBO,KAAK,CAACP,OAAN,CAAcE,MAArC,CAAP;AACH,CAFM;4BAK4DC,YAAY,CAACuB,O;IAAlEpB,e,yBAAAA,e;IAAgBK,U,yBAAAA,U;IAAWQ,U,yBAAAA,U;IAAWN,a,yBAAAA,a;;AACpD,eAAeV,YAAY,CAACwB,OAA5B","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { queryApi } from \"../../utils/queryApi\";\r\nlet initialState = {\r\n    favoris: [],\r\n  \r\n    selectedFavoris:[],\r\n    errors: \"\",\r\n    };\r\nconst favorisSlice=createSlice({\r\n    name: \"favoris\",\r\n    initialState,\r\n    reducers: {\r\n        populateFavoris(state, action) {\r\n     \r\n        state.favoris = action.payload;\r\n        },\r\n   \r\n        selectFavoris(state, action) {\r\n       \r\n            state.populateFavoris = action.payload;\r\n            },\r\n           \r\n            \r\n        addfavoris: (state, action) => {\r\n            const payload = action.payload;\r\n            state.favoris.push(payload);\r\n          \r\n            \r\n            },\r\n      \r\n        deleteFavoris: (state, action) => {\r\n           \r\n            const payload = action.payload;\r\n            const index = state.favoris.findIndex((fav) => fav._id === payload);\r\n       \r\n            if (index !== -1) {\r\n                state.favoris.splice(index, 1);\r\n             }\r\n             \r\n       },\r\n    \r\n      \r\n    \r\n       setErrorsf(state, action) {\r\n                 state.errors = action.payload;\r\n          },\r\n             },\r\n             \r\n        \r\n        });\r\n\r\nexport const fetchFavoris=()=>async(dispatch)=>{\r\n    const [res,error]=await queryApi(\"favoris/displayf\");\r\n    if(error){\r\n        console.log(error);\r\n    }\r\n    else{\r\n        dispatch(populateFavoris(res));\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const selectFavoris=(state)=>{\r\n    return [state.favoris.favoris,state.favoris.errors];\r\n}\r\n\r\n\r\nexport const {populateFavoris,addfavoris,setErrorsf,deleteFavoris}=favorisSlice.actions;\r\nexport default favorisSlice.reducer;"]},"metadata":{},"sourceType":"module"}