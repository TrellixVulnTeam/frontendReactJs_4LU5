{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport axios from 'axios';\nvar initialState = {\n  users: [],\n  selectedUser: {},\n  errors: \"\"\n};\nvar usersSlice = createSlice({\n  name: \"users\",\n  initialState: initialState,\n  reducers: {\n    populateUsers: function populateUsers(state, action) {\n      state.users = action.payload;\n    },\n    selectUser: function selectUser(state, action) {\n      state.populateUsers = action.payload;\n    },\n    addUser: function addUser(state, action) {\n      var payload = action.payload;\n      state.users.push(payload);\n    },\n    updateUser: function updateUser(state, action) {\n      var payload = action.payload;\n      state.users.set(payload);\n    },\n    deleteUser: function deleteUser(state, action) {\n      var payload = action.payload;\n      var index = state.users.findIndex(function (user) {\n        return user._id === payload;\n      });\n\n      if (index !== -1) {\n        state.users.splice(index, 1);\n      }\n    },\n    selectoneuser: function selectoneuser(state, action) {\n      var payload = action.payload;\n      state.selectedUser = action.payload;\n    },\n    setErrors: function setErrors(state, action) {\n      state.errors = action.payload;\n    }\n  }\n});\nexport var fetchUsers = function fetchUsers() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var config;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              config = {\n                headers: {\n                  \"Content-Type\": \"appliation/json\",\n                  Authorization: \"Bearer \".concat(localStorage.getItem(\"authToken\"))\n                }\n              };\n              axios.get(\"https://aaweni.herokuapp.com/api/auth/all_users\", config).then(function (response) {\n                dispatch(populateUsers(response.data));\n                console.log(response.data);\n              }).catch(function (error) {\n                console.log(error);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var fetchconnectuser = function fetchconnectuser() {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var config;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              config = {\n                headers: {\n                  \"Content-Type\": \"appliation/json\",\n                  Authorization: \"Bearer \".concat(localStorage.getItem(\"authToken\"))\n                }\n              };\n              axios.get(\"https://aaweni.herokuapp.com/api/auth/details_user\", config).then(function (response) {\n                dispatch(selectoneuser(response.data.data));\n              });\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var selectSessionUser = function selectSessionUser(state) {\n  return [state.users.selectedUser];\n};\nexport var selectUsers = function selectUsers(state) {\n  return [state.users.users, state.users.errors];\n};\nvar _usersSlice$actions = usersSlice.actions,\n    populateUsers = _usersSlice$actions.populateUsers,\n    addUser = _usersSlice$actions.addUser,\n    setErrors = _usersSlice$actions.setErrors,\n    deleteUser = _usersSlice$actions.deleteUser,\n    selectUser = _usersSlice$actions.selectUser,\n    updateUser = _usersSlice$actions.updateUser,\n    selectoneuser = _usersSlice$actions.selectoneuser;\nexport { populateUsers, addUser, setErrors, deleteUser, selectUser, updateUser, selectoneuser };\nexport default usersSlice.reducer;","map":{"version":3,"sources":["C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/src/redux/slices/userSlice.js"],"names":["createSlice","axios","initialState","users","selectedUser","errors","usersSlice","name","reducers","populateUsers","state","action","payload","selectUser","addUser","push","updateUser","set","deleteUser","index","findIndex","user","_id","splice","selectoneuser","setErrors","fetchUsers","dispatch","config","headers","Authorization","localStorage","getItem","get","then","response","data","console","log","catch","error","fetchconnectuser","selectSessionUser","selectUsers","actions","reducer"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,IAAIC,YAAY,GAAG;AACfC,EAAAA,KAAK,EAAE,EADQ;AAEfC,EAAAA,YAAY,EAAE,EAFC;AAGfC,EAAAA,MAAM,EAAE;AAHO,CAAnB;AAKA,IAAMC,UAAU,GAACN,WAAW,CAAC;AACzBO,EAAAA,IAAI,EAAE,OADmB;AAEzBL,EAAAA,YAAY,EAAZA,YAFyB;AAGzBM,EAAAA,QAAQ,EAAE;AACNC,IAAAA,aADM,yBACQC,KADR,EACeC,MADf,EACuB;AAC7BD,MAAAA,KAAK,CAACP,KAAN,GAAcQ,MAAM,CAACC,OAArB;AACC,KAHK;AAINC,IAAAA,UAJM,sBAIKH,KAJL,EAIYC,MAJZ,EAIoB;AACtBD,MAAAA,KAAK,CAACD,aAAN,GAAsBE,MAAM,CAACC,OAA7B;AACC,KANC;AAQNE,IAAAA,OAAO,EAAE,iBAACJ,KAAD,EAAQC,MAAR,EAAmB;AACxB,UAAMC,OAAO,GAAGD,MAAM,CAACC,OAAvB;AACAF,MAAAA,KAAK,CAACP,KAAN,CAAYY,IAAZ,CAAiBH,OAAjB;AACC,KAXC;AAYNI,IAAAA,UAAU,EAAE,oBAACN,KAAD,EAAQC,MAAR,EAAmB;AACvB,UAAMC,OAAO,GAAGD,MAAM,CAACC,OAAvB;AACAF,MAAAA,KAAK,CAACP,KAAN,CAAYc,GAAZ,CAAgBL,OAAhB;AACC,KAfH;AAgBNM,IAAAA,UAAU,EAAE,oBAACR,KAAD,EAAQC,MAAR,EAAmB;AAC3B,UAAMC,OAAO,GAAGD,MAAM,CAACC,OAAvB;AACA,UAAMO,KAAK,GAAGT,KAAK,CAACP,KAAN,CAAYiB,SAAZ,CAAsB,UAACC,IAAD;AAAA,eAAUA,IAAI,CAACC,GAAL,KAAaV,OAAvB;AAAA,OAAtB,CAAd;;AACA,UAAIO,KAAK,KAAK,CAAC,CAAf,EAAkB;AACdT,QAAAA,KAAK,CAACP,KAAN,CAAYoB,MAAZ,CAAmBJ,KAAnB,EAA0B,CAA1B;AACgB;AACxB,KAtBM;AAuBPK,IAAAA,aAAa,EACb,uBAACd,KAAD,EAAQC,MAAR,EAAmB;AAClB,UAAMC,OAAO,GAAGD,MAAM,CAACC,OAAvB;AACAF,MAAAA,KAAK,CAACN,YAAN,GAAqBO,MAAM,CAACC,OAA5B;AACC,KA3BK;AA4BLa,IAAAA,SA5BK,qBA4BKf,KA5BL,EA4BYC,MA5BZ,EA4BoB;AACjBD,MAAAA,KAAK,CAACL,MAAN,GAAeM,MAAM,CAACC,OAAtB;AACN;AA9BG;AAHe,CAAD,CAA5B;AAwCA,OAAO,IAAMc,UAAU,GAAC,SAAXA,UAAW;AAAA;AAAA,wEAAI,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAClBC,cAAAA,MADkB,GACT;AACXC,gBAAAA,OAAO,EAAE;AACL,kCAAe,iBADV;AAELC,kBAAAA,aAAa,mBAAYC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAZ;AAFR;AADE,eADS;AAOxB/B,cAAAA,KAAK,CAACgC,GAAN,oDAA6DL,MAA7D,EACaM,IADb,CACkB,UAACC,QAAD,EAAc;AACnBR,gBAAAA,QAAQ,CAAClB,aAAa,CAAC0B,QAAQ,CAACC,IAAV,CAAd,CAAR;AACAC,gBAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,IAArB;AACA,eAJb,EAKaG,KALb,CAKmB,UAACC,KAAD,EAAW;AAChBH,gBAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,eAPb;;AAPwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB;AAiBP,OAAO,IAAMC,gBAAgB,GAAC,SAAjBA,gBAAiB;AAAA;AAAA,yEAAI,kBAAMd,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACxBC,cAAAA,MADwB,GACf;AACXC,gBAAAA,OAAO,EAAE;AACL,kCAAe,iBADV;AAELC,kBAAAA,aAAa,mBAAYC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAZ;AAFR;AADE,eADe;AAO9B/B,cAAAA,KAAK,CAACgC,GAAN,CAAU,oDAAV,EAA+DL,MAA/D,EAAuEM,IAAvE,CAA4E,UAACC,QAAD,EAAY;AACpFR,gBAAAA,QAAQ,CAACH,aAAa,CAACW,QAAQ,CAACC,IAAT,CAAcA,IAAf,CAAd,CAAR;AACF,eAFF;;AAP8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAvB;AAeP,OAAO,IAAMM,iBAAiB,GAAC,SAAlBA,iBAAkB,CAAChC,KAAD,EAAS;AACpC,SAAO,CAACA,KAAK,CAACP,KAAN,CAAYC,YAAb,CAAP;AACH,CAFM;AAGP,OAAO,IAAMuC,WAAW,GAAC,SAAZA,WAAY,CAACjC,KAAD,EAAS;AAC9B,SAAO,CAACA,KAAK,CAACP,KAAN,CAAYA,KAAb,EAAmBO,KAAK,CAACP,KAAN,CAAYE,MAA/B,CAAP;AACH,CAFM;0BAGuFC,UAAU,CAACsC,O;IAA3FnC,a,uBAAAA,a;IAAcK,O,uBAAAA,O;IAAQW,S,uBAAAA,S;IAAUP,U,uBAAAA,U;IAAWL,U,uBAAAA,U;IAAWG,U,uBAAAA,U;IAAWQ,a,uBAAAA,a;;AAC/E,eAAelB,UAAU,CAACuC,OAA1B","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios';\r\nlet initialState = {\r\n    users: [],\r\n    selectedUser: {},\r\n    errors: \"\",\r\n    };\r\nconst usersSlice=createSlice({\r\n    name: \"users\",\r\n    initialState,\r\n    reducers: {\r\n        populateUsers(state, action) {\r\n        state.users = action.payload;\r\n        },\r\n        selectUser(state, action) {\r\n            state.populateUsers = action.payload;\r\n            },\r\n            \r\n        addUser: (state, action) => {\r\n            const payload = action.payload;\r\n            state.users.push(payload);\r\n            },\r\n        updateUser: (state, action) => {\r\n                const payload = action.payload;\r\n                state.users.set(payload);\r\n                },\r\n        deleteUser: (state, action) => {\r\n            const payload = action.payload;\r\n            const index = state.users.findIndex((user) => user._id === payload);\r\n            if (index !== -1) {\r\n                state.users.splice(index, 1);\r\n                               }\r\n       },\r\n       selectoneuser:\r\n       (state, action) => {\r\n        const payload = action.payload;\r\n        state.selectedUser=  action.payload;\r\n        },\r\n         setErrors(state, action) {\r\n                 state.errors = action.payload;\r\n          },\r\n             },\r\n             \r\n        \r\n        });\r\n        \r\n\r\nexport const fetchUsers=()=>async(dispatch)=>{\r\n    const config = {\r\n        headers: {\r\n            \"Content-Type\":\"appliation/json\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\r\n        }\r\n    }\r\n    axios.get(`https://aaweni.herokuapp.com/api/auth/all_users`, config)\r\n                .then((response) => {\r\n                 dispatch(populateUsers(response.data));\r\n                 console.log(response.data)\r\n                })\r\n                .catch((error) => {\r\n                  console.log(error)\r\n                })\r\n}\r\n\r\nexport const fetchconnectuser=()=>async(dispatch)=>{\r\n    const config = {\r\n        headers: {\r\n            \"Content-Type\":\"appliation/json\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\r\n        }\r\n    }\r\n    axios.get(\"https://aaweni.herokuapp.com/api/auth/details_user\",config).then((response)=>{\r\n        dispatch(selectoneuser(response.data.data));\r\n     });\r\n\r\n}\r\n\r\n\r\n\r\nexport const selectSessionUser=(state)=>{\r\n    return [state.users.selectedUser];\r\n}\r\nexport const selectUsers=(state)=>{\r\n    return [state.users.users,state.users.errors];\r\n}\r\nexport const {populateUsers,addUser,setErrors,deleteUser,selectUser,updateUser,selectoneuser}=usersSlice.actions;\r\nexport default usersSlice.reducer;\r\n"]},"metadata":{},"sourceType":"module"}