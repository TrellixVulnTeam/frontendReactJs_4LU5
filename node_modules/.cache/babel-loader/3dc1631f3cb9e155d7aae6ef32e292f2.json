{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _slicedToArray from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _asyncToGenerator from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { queryApi } from \"../../utils/queryApi\";\nvar initialState = {\n  usercourse: [],\n  selectedUsercourse: [],\n  errors: \"\"\n};\nvar usercoursesSlice = createSlice({\n  name: \"usercourse\",\n  initialState: initialState,\n  reducers: {\n    populateUsercourse: function populateUsercourse(state, action) {\n      state.usercourse = action.payload;\n    },\n    deleteUsercourse: function deleteUsercourse(state, action) {\n      var payload = action.payload;\n      var index = state.usercourse.findIndex(function (uc) {\n        return uc._id === payload;\n      });\n\n      if (index !== -1) {\n        console.log(index);\n        state.usercourse.splice(index, 1);\n      }\n    },\n    sortusercoursesasc: function sortusercoursesasc(state, action) {\n      state.usercourse = action.payload;\n    },\n    setErrors: function setErrors(state, action) {\n      state.errors = action.payload;\n    }\n  }\n});\nexport var fetchUserCourse = function fetchUserCourse(id) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var _yield$queryApi, _yield$queryApi2, res, error;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return queryApi(\"usercourse/findusers/\" + id);\n\n            case 2:\n              _yield$queryApi = _context.sent;\n              _yield$queryApi2 = _slicedToArray(_yield$queryApi, 2);\n              res = _yield$queryApi2[0];\n              error = _yield$queryApi2[1];\n\n              if (error) {\n                console.log(error);\n              } else {\n                dispatch(populateUsercourse(res));\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var fsortuserasc = function fsortuserasc(id) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var _yield$queryApi3, _yield$queryApi4, res, error;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return queryApi(\"usercourse/finduserstriAsc/\" + id);\n\n            case 2:\n              _yield$queryApi3 = _context2.sent;\n              _yield$queryApi4 = _slicedToArray(_yield$queryApi3, 2);\n              res = _yield$queryApi4[0];\n              error = _yield$queryApi4[1];\n\n              if (error) {\n                console.log(error);\n              } else {\n                dispatch(sortusercoursesasc(res));\n              }\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var selectUsercourses = function selectUsercourses(state) {\n  return [state.usercourse.usercourse, state.usercourse.errors];\n};\nvar _usercoursesSlice$act = usercoursesSlice.actions,\n    populateUsercourse = _usercoursesSlice$act.populateUsercourse,\n    deleteUsercourse = _usercoursesSlice$act.deleteUsercourse,\n    sortusercoursesasc = _usercoursesSlice$act.sortusercoursesasc;\nexport { populateUsercourse, deleteUsercourse, sortusercoursesasc };\nexport default usercoursesSlice.reducer;","map":{"version":3,"sources":["C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/src/redux/slices/usercourseSlice.js"],"names":["createSlice","queryApi","initialState","usercourse","selectedUsercourse","errors","usercoursesSlice","name","reducers","populateUsercourse","state","action","payload","deleteUsercourse","index","findIndex","uc","_id","console","log","splice","sortusercoursesasc","setErrors","fetchUserCourse","id","dispatch","res","error","fsortuserasc","selectUsercourses","actions","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { queryApi } from \"../../utils/queryApi\";\r\nlet initialState = {\r\n    usercourse: [],\r\n    selectedUsercourse:[],\r\n    errors: \"\",\r\n    };\r\nconst usercoursesSlice=createSlice({\r\n    name: \"usercourse\",\r\n    initialState,\r\n    reducers: {\r\n        populateUsercourse(state, action) {\r\n     \r\n        state.usercourse = action.payload;\r\n        },\r\n   \r\n     \r\n    \r\n        deleteUsercourse: (state, action) => {\r\n           \r\n            const payload = action.payload;\r\n            const index = state.usercourse.findIndex((uc) => uc._id === payload);\r\n            if (index !== -1) {\r\n                console.log(index);\r\n                state.usercourse.splice(index, 1);\r\n                               }\r\n       }, \r\n       sortusercoursesasc:(state,action)=>{\r\n       \r\n        state.usercourse = action.payload;\r\n       },\r\n     \r\n         setErrors(state, action) {\r\n                 state.errors = action.payload;\r\n          },\r\n             },\r\n             \r\n        \r\n        });\r\n\r\nexport const fetchUserCourse=(id)=>async(dispatch)=>{\r\n    const [res,error]=await queryApi(\"usercourse/findusers/\"+id);\r\n    if(error){\r\n        console.log(error);\r\n    }\r\n    else{\r\n        dispatch(populateUsercourse(res));\r\n    }\r\n}\r\n\r\nexport const fsortuserasc=(id)=>async(dispatch)=>{\r\n    const [res,error]=await queryApi(\"usercourse/finduserstriAsc/\"+id);\r\n    if(error){\r\n        console.log(error);\r\n    }\r\n    else{\r\n        dispatch(sortusercoursesasc(res));\r\n    }\r\n}\r\n\r\n\r\nexport const selectUsercourses=(state)=>{\r\n    return [state.usercourse.usercourse,state.usercourse.errors];\r\n}\r\nexport const {populateUsercourse,deleteUsercourse,sortusercoursesasc}=usercoursesSlice.actions;\r\nexport default usercoursesSlice.reducer;"]},"metadata":{},"sourceType":"module"}