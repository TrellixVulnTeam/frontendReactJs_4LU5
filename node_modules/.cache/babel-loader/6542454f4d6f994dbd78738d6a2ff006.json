{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\siwar\\\\Desktop\\\\front\\\\src\\\\user\\\\components\\\\Job\\\\Jobs.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react/style-prop-object */\n\n/* eslint-disable jsx-a11y/alt-text */\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport axios from \"axios\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { getcategories } from \"../../../redux/actions/categorypAction\";\nimport { getJobs, deleteJob, searchjobs } from \"../../../redux/actions/jobAction\";\nimport JobItem from \"./JobItem\";\nimport Header from '../Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Jobs() {\n  _s();\n\n  const dispatch = useDispatch();\n  const typeRef = useRef();\n  const categoryRef = useRef();\n  const userconnected = localStorage.getItem(\"connecteduser\");\n  useEffect(() => {\n    dispatch(getJobs());\n  }, [dispatch]);\n  const jobs = useSelector(state => state.jobReducer.jobs);\n  const filtered = useSelector(state => state.jobReducer.jobs.filter(job => job.username._id === userconnected)); //ethi khedmet\n  // const [jobs, setjobs] = useState([]);\n\n  const [showJobs, setshowJobs] = useState(true); //const [filtered, setfiltered] = useState([]);\n\n  const [showFilter, setshowFilter] = useState(false);\n  /*useEffect(() => {\r\n    axios.get(\"http://localhost:3000/pi/postRoute/job\").then((res) => {\r\n      setjobs(res.data.jobs);\r\n      setfiltered(res.data.jobs.filter((job) => job.username === \"607e1bceb6e3422b40b74212\"));\r\n    });\r\n  }, []);*/\n  //categories\n\n  useEffect(() => {\n    dispatch(getcategories());\n  }, [dispatch]);\n  const categories = useSelector(state => state.categorypReducer.categories); //search jobs\n\n  const handleSearchInput = async event => {\n    const type = typeRef.current.value;\n    const searchField = event.target.value;\n\n    if (showListCat) {\n      const categoryid = categoryRef.current.value;\n\n      if (categoryid !== null) {\n        dispatch(searchjobs(type, categoryid));\n      } else {\n        dispatch(getJobs());\n      }\n    } else {\n      if (searchField !== \"\") {\n        dispatch(searchjobs(type, searchField));\n      } else {\n        dispatch(getJobs());\n      }\n    }\n  };\n\n  const [showListCat, setshowListCat] = useState(false);\n\n  const handlechange = event => {\n    const type = typeRef.current.value;\n\n    if (type === \"category\") {\n      setshowListCat(true);\n    } else {\n      setshowListCat(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"body\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"main_content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"mcontainer\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"lg:flex  lg:space-x-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"lg:w-3/4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"flex justify-between relative md:mb-4 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  class: \"text-3xl font-semibold\",\n                  children: \" Jobs \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n                  class: \"cd-secondary-nav border-b md:m-0 -mx-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                    \"uk-switcher\": \"connect:#switch ; animation: uk-animation-slide-right-small, uk-animation-slide-left-medium\",\n                    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                      children: /*#__PURE__*/_jsxDEV(\"a\", {\n                        onClick: () => {\n                          setshowJobs(true);\n                          setshowFilter(false);\n                        },\n                        class: \"lg:px-2\",\n                        children: \"Suggestions\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 95,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: /*#__PURE__*/_jsxDEV(\"a\", {\n                        onClick: () => {\n                          setshowJobs(false);\n                          setshowFilter(true);\n                        },\n                        class: \"lg:px-2\",\n                        children: \"My Jobs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 107,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 106,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/addjob\",\n                class: \"flex items-center justify-center h-9 lg:px-5 px-2 rounded-md bg-blue-600 text-white space-x-1.5 absolute right-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  viewBox: \"0 0 20 20\",\n                  fill: \"currentColor\",\n                  class: \"w-5\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    \"fill-rule\": \"evenodd\",\n                    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z\",\n                    \"clip-rule\": \"evenodd\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"md:block \",\n                  children: \" Create\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"job-list\",\n              children: [showJobs && jobs.map((job, index) => {\n                return /*#__PURE__*/_jsxDEV(JobItem, {\n                  job: job\n                }, job._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 28\n                }, this);\n              }), showFilter && filtered.map((job, index) => {\n                return /*#__PURE__*/_jsxDEV(JobItem, {\n                  job: job,\n                  showFilter: showFilter\n                }, job._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 28\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"w-1/3 pt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              \"uk-sticky\": \"offset:100\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                class: \"text-2xl font-semibold mb-2\",\n                children: \" Job Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\" Search your \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"dream job \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 33\n                }, this), \"easily and faster. \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                class: \"space-y-3\",\n                children: /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"flex items-center space-x-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      class: \"uil-search-alt\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 159,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      class: \"form-control\",\n                      ref: typeRef,\n                      onChange: handlechange,\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        defaultValue: \"\",\n                        children: \"Select Search Type\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 161,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"title\",\n                        children: \"Title\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 162,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"description\",\n                        children: \"Description\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 163,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"location\",\n                        children: \"Location\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 164,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"skills\",\n                        children: \"Skills\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 165,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"salary\",\n                        children: \"Salary\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 166,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"category\",\n                        children: \"Category\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 167,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 23\n                    }, this), !showListCat && /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      placeholder: \"Search...\",\n                      class: \"form-control\",\n                      onChange: handleSearchInput\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 25\n                    }, this), showListCat && /*#__PURE__*/_jsxDEV(\"select\", {\n                      class: \"form-control\",\n                      ref: categoryRef,\n                      onChange: handleSearchInput,\n                      children: categories === null || categories === void 0 ? void 0 : categories.map(category => {\n                        return /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: category._id,\n                          children: category.name\n                        }, category._id, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 182,\n                          columnNumber: 31\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 179,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"flex items-center space-x-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n                        name: \"chatbubble-ellipses-outline\",\n                        class: \"text-lg\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 191,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Jobs, \"w5VAdjg0AtBCBnxBdydqVeIBL+0=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = Jobs;\n\nvar _c;\n\n$RefreshReg$(_c, \"Jobs\");","map":{"version":3,"sources":["C:/Users/siwar/Desktop/front/src/user/components/Job/Jobs.js"],"names":["axios","React","useEffect","useRef","useState","useDispatch","useSelector","Link","getcategories","getJobs","deleteJob","searchjobs","JobItem","Header","Jobs","dispatch","typeRef","categoryRef","userconnected","localStorage","getItem","jobs","state","jobReducer","filtered","filter","job","username","_id","showJobs","setshowJobs","showFilter","setshowFilter","categories","categorypReducer","handleSearchInput","event","type","current","value","searchField","target","showListCat","categoryid","setshowListCat","handlechange","map","index","category","name"],"mappings":"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","sourcesContent":["/* eslint-disable react/style-prop-object */\r\n/* eslint-disable jsx-a11y/alt-text */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport axios from \"axios\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getcategories } from \"../../../redux/actions/categorypAction\";\r\nimport { getJobs, deleteJob, searchjobs } from \"../../../redux/actions/jobAction\";\r\nimport JobItem from \"./JobItem\";\r\nimport Header from'../Header';\r\nexport default function Jobs() {\r\n  const dispatch = useDispatch();\r\n  const typeRef = useRef();\r\n  const categoryRef = useRef();\r\n  const userconnected = localStorage.getItem(\"connecteduser\");\r\n  useEffect(() => {\r\n    dispatch(getJobs());\r\n  }, [dispatch]);\r\n  const jobs = useSelector((state) => state.jobReducer.jobs);\r\n  const filtered = useSelector((state) =>\r\n    state.jobReducer.jobs.filter((job) => job.username._id === userconnected)\r\n  );\r\n\r\n  //ethi khedmet\r\n  // const [jobs, setjobs] = useState([]);\r\n  const [showJobs, setshowJobs] = useState(true);\r\n  //const [filtered, setfiltered] = useState([]);\r\n  const [showFilter, setshowFilter] = useState(false);\r\n  /*useEffect(() => {\r\n    axios.get(\"http://localhost:3000/pi/postRoute/job\").then((res) => {\r\n      setjobs(res.data.jobs);\r\n      setfiltered(res.data.jobs.filter((job) => job.username === \"607e1bceb6e3422b40b74212\"));\r\n    });\r\n  }, []);*/\r\n\r\n\r\n  //categories\r\n  useEffect(() => {\r\n    dispatch(getcategories());\r\n  }, [dispatch]);\r\n  const categories = useSelector((state) => state.categorypReducer.categories);\r\n\r\n  //search jobs\r\n  const handleSearchInput = async (event) => {\r\n    const type = typeRef.current.value;\r\n\r\n    const searchField = event.target.value;\r\n    if (showListCat) {\r\n      const categoryid = categoryRef.current.value;\r\n  \r\n\r\n      if (categoryid !== null) {\r\n        dispatch(searchjobs(type, categoryid));\r\n      } else {\r\n  \r\n        dispatch(getJobs());\r\n      }\r\n    } else {\r\n\r\n\r\n      if (searchField !== \"\") {\r\n        dispatch(searchjobs(type, searchField));\r\n      } else {\r\n  \r\n        dispatch(getJobs());\r\n      }\r\n    }\r\n  };\r\n\r\n  const [showListCat, setshowListCat] = useState(false);\r\n\r\n  const handlechange = (event) => {\r\n    const type = typeRef.current.value;\r\n    if (type === \"category\") {\r\n      setshowListCat(true);\r\n    } else {\r\n      setshowListCat(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <body>\r\n    <Header />\r\n      <div class=\"main_content\">\r\n        <div class=\"mcontainer\">\r\n          <div class=\"lg:flex  lg:space-x-12\">\r\n            <div class=\"lg:w-3/4\">\r\n              <div class=\"flex justify-between relative md:mb-4 mb-3\">\r\n                <div class=\"flex-1\">\r\n                  <h2 class=\"text-3xl font-semibold\"> Jobs </h2>\r\n                  <nav class=\"cd-secondary-nav border-b md:m-0 -mx-4\">\r\n                    <ul uk-switcher=\"connect:#switch ; animation: uk-animation-slide-right-small, uk-animation-slide-left-medium\">\r\n                      <li>\r\n                        <a\r\n                          onClick={() => {\r\n                            setshowJobs(true);\r\n                            setshowFilter(false);\r\n                          }}\r\n                          class=\"lg:px-2\"\r\n                        >\r\n                          Suggestions\r\n                        </a>\r\n                      </li>\r\n\r\n                      <li>\r\n                        <a\r\n                          onClick={() => {\r\n                            setshowJobs(false);\r\n                            setshowFilter(true);\r\n                          }}\r\n                          class=\"lg:px-2\"\r\n                        >\r\n                          My Jobs\r\n                        </a>\r\n                      </li>\r\n                    </ul>\r\n                  </nav>\r\n                </div>\r\n                <Link\r\n                  to={\"/addjob\"}\r\n                  class=\"flex items-center justify-center h-9 lg:px-5 px-2 rounded-md bg-blue-600 text-white space-x-1.5 absolute right-0\"\r\n                >\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 20 20\"\r\n                    fill=\"currentColor\"\r\n                    class=\"w-5\"\r\n                  >\r\n                    <path\r\n                      fill-rule=\"evenodd\"\r\n                      d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z\"\r\n                      clip-rule=\"evenodd\"\r\n                    ></path>\r\n                  </svg>\r\n                  <span class=\"md:block \"> Create</span>\r\n                </Link>\r\n              </div>\r\n              <div class=\"job-list\">\r\n                {showJobs &&\r\n                  jobs.map((job, index) => {\r\n                    return <JobItem job={job} key={job._id} />;\r\n                  })}\r\n                {showFilter &&\r\n                  filtered.map((job, index) => {\r\n                    return <JobItem job={job} showFilter={showFilter} key={job._id} />;\r\n                  })}\r\n              </div>\r\n            </div>\r\n            <div class=\"w-1/3 pt-5\">\r\n              <div uk-sticky=\"offset:100\">\r\n                <h2 class=\"text-2xl font-semibold mb-2\"> Job Search</h2>\r\n                <p> Search your <strong>dream job </strong>easily and faster. </p>\r\n                <br />\r\n\r\n                <ul class=\"space-y-3\">\r\n                  <li>\r\n                    <div class=\"flex items-center space-x-3\">\r\n                      <i class=\"uil-search-alt\"></i>\r\n                      <select class=\"form-control\" ref={typeRef} onChange={handlechange}>\r\n                        <option defaultValue=\"\">Select Search Type</option>\r\n                        <option value=\"title\">Title</option>\r\n                        <option value=\"description\">Description</option>\r\n                        <option value=\"location\">Location</option>\r\n                        <option value=\"skills\">Skills</option>\r\n                        <option value=\"salary\">Salary</option>\r\n                        <option value=\"category\">Category</option>\r\n                      </select>\r\n\r\n                      {!showListCat && (\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"Search...\"\r\n                          class=\"form-control\"\r\n                          onChange={handleSearchInput}\r\n                        />\r\n                      )}\r\n                      {showListCat && (\r\n                        <select class=\"form-control\" ref={categoryRef} onChange={handleSearchInput}>\r\n                          {categories?.map((category) => {\r\n                            return (\r\n                              <option value={category._id} key={category._id}>\r\n                                {category.name}\r\n                              </option>\r\n                            );\r\n                          })}\r\n                        </select>\r\n                      )}\r\n\r\n                      <div class=\"flex items-center space-x-2\">\r\n                        <ion-icon name=\"chatbubble-ellipses-outline\" class=\"text-lg\"></ion-icon>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </body>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}