{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nimport { GET_JOBS, DELETE_JOB, SEARCH_JOBS, GET_JOBSTAT } from \"./types\";\nvar config = {\n  headers: {\n    \"Content-Type\": \"appliation/json\",\n    Authorization: \"Bearer \".concat(localStorage.getItem(\"authToken\"))\n  }\n};\nexport var getJobs = function getJobs() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get(\"https://aaweni.herokuapp.com/pi/postRoute/job\").then(function (res) {\n                dispatch({\n                  type: GET_JOBS,\n                  payload: res.data\n                });\n              }).catch(function (err) {\n                return console.log(err);\n              });\n\n            case 2:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var deleteJob = function deleteJob(jobId) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.delete(\"https://aaweni.herokuapp.com/pi/postRoute/job/\" + jobId, config);\n\n            case 3:\n              res = _context2.sent;\n              dispatch({\n                type: DELETE_JOB,\n                payload: res.data\n              });\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var searchjobs = function searchjobs(type, searchField) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return axios.get(\"https://aaweni.herokuapp.com/pi/postRoute/searchjobs?type=\" + type + \"&searchfield=\" + searchField).then(function (res) {\n                dispatch({\n                  type: SEARCH_JOBS,\n                  payload: res.data\n                });\n              }).catch(function (err) {\n                return console.log(err);\n              });\n\n            case 2:\n              return _context3.abrupt(\"return\", _context3.sent);\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var getJobStatics = function getJobStatics() {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return axios.get(\"https://aaweni.herokuapp.com/pi/postRoute/nbjob\").then(function (res) {\n                dispatch({\n                  type: GET_JOBSTAT,\n                  payload: res.data\n                });\n              }).catch(function (err) {\n                return console.log(err);\n              });\n\n            case 2:\n              return _context4.abrupt(\"return\", _context4.sent);\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/src/redux/actions/jobAction.js"],"names":["axios","GET_JOBS","DELETE_JOB","SEARCH_JOBS","GET_JOBSTAT","config","headers","Authorization","localStorage","getItem","getJobs","dispatch","get","then","res","type","payload","data","catch","err","console","log","deleteJob","jobId","delete","searchjobs","searchField","getJobStatics"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { GET_JOBS, DELETE_JOB, SEARCH_JOBS, GET_JOBSTAT } from \"./types\";\r\nconst config = {\r\n  headers: {\r\n      \"Content-Type\":\"appliation/json\",\r\n      Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\r\n  }\r\n}\r\nexport const getJobs = () => {\r\n  return async (dispatch) => {\r\n    return await axios\r\n      .get(\"https://aaweni.herokuapp.com/pi/postRoute/job\")\r\n      .then((res) => {\r\n        dispatch({ type: GET_JOBS, payload: res.data });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const deleteJob = (jobId) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.delete(\"https://aaweni.herokuapp.com/pi/postRoute/job/\" + jobId,config);\r\n\r\n      dispatch({ type: DELETE_JOB, payload: res.data });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const searchjobs = (type, searchField) => {\r\n  return async (dispatch) => {\r\n    return await axios\r\n      .get(\r\n        \"https://aaweni.herokuapp.com/pi/postRoute/searchjobs?type=\" + type + \"&searchfield=\" + searchField\r\n      )\r\n      .then((res) => {\r\n        dispatch({ type: SEARCH_JOBS, payload: res.data });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\nexport const getJobStatics = () => {\r\n  return async (dispatch) => {\r\n    return await axios\r\n      .get(\"https://aaweni.herokuapp.com/pi/postRoute/nbjob\")\r\n      .then((res) => {\r\n        dispatch({ type: GET_JOBSTAT, payload: res.data });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}