{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar React = require('react');\n\nvar core = require('@react-pdf-viewer/core');\n\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function get() {\n            return e[k];\n          }\n        });\n      }\n    });\n  }\n\n  n['default'] = e;\n  return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar BookmarkItem = function BookmarkItem(_a) {\n  var bookmark = _a.bookmark,\n      depth = _a.depth,\n      doc = _a.doc,\n      onClick = _a.onClick,\n      onJumpToDest = _a.onJumpToDest;\n  var toggleRef = React__namespace.createRef();\n  var subItemRef = React__namespace.createRef();\n  var subItemsDisplayed = React__namespace.useRef(true);\n  var hasSubItems = bookmark.items && bookmark.items.length > 0;\n\n  var toggleSubItems = function toggleSubItems() {\n    subItemsDisplayed.current = !subItemsDisplayed.current;\n    var subItemsEle = subItemRef.current;\n    var toggleEle = toggleRef.current;\n\n    if (!subItemsEle || !toggleEle) {\n      return;\n    }\n\n    subItemsEle.style.display = subItemsDisplayed.current ? 'block' : 'none';\n    toggleEle.classList.toggle('rpv-bookmark-toggle-expanded');\n  };\n\n  var clickBookmak = function clickBookmak() {\n    if (hasSubItems && bookmark.dest) {\n      onClick(bookmark.dest);\n    }\n  };\n\n  var clickItem = function clickItem() {\n    if (!hasSubItems && bookmark.dest) {\n      onClick(bookmark.dest);\n    }\n  };\n\n  return React__namespace.createElement(React__namespace.Fragment, null, React__namespace.createElement(\"div\", {\n    className: 'rpv-bookmark-item',\n    style: {\n      paddingLeft: depth * 20 + 4 + \"px\"\n    },\n    onClick: clickItem\n  }, hasSubItems && React__namespace.createElement(\"span\", {\n    ref: toggleRef,\n    className: 'rpv-bookmark-toggle',\n    onClick: toggleSubItems\n  }, \"\\u25BA\"), bookmark.url ? React__namespace.createElement(\"a\", {\n    className: 'rpv-bookmark-title',\n    href: bookmark.url,\n    rel: 'noopener noreferrer nofollow',\n    target: bookmark.newWindow ? '_blank' : ''\n  }, bookmark.title) : React__namespace.createElement(\"div\", {\n    className: 'rpv-bookmark-title',\n    onClick: clickBookmak\n  }, bookmark.title)), hasSubItems && React__namespace.createElement(\"div\", {\n    ref: subItemRef\n  }, React__namespace.createElement(BookmarkList, {\n    bookmarks: bookmark.items,\n    depth: depth + 1,\n    doc: doc,\n    onJumpToDest: onJumpToDest\n  })));\n};\n\nvar BookmarkList = function BookmarkList(_a) {\n  var bookmarks = _a.bookmarks,\n      _b = _a.depth,\n      depth = _b === void 0 ? 0 : _b,\n      doc = _a.doc,\n      onJumpToDest = _a.onJumpToDest;\n\n  var jumpToDest = function jumpToDest(dest) {\n    core.getDestination(doc, dest).then(function (target) {\n      var pageIndex = target.pageIndex,\n          bottomOffset = target.bottomOffset,\n          scaleTo = target.scaleTo;\n      onJumpToDest(pageIndex + 1, bottomOffset, scaleTo);\n    });\n  };\n\n  return React__namespace.createElement(\"ul\", {\n    className: 'rpv-bookmark-list'\n  }, bookmarks.map(function (bookmark, index) {\n    return React__namespace.createElement(\"li\", {\n      key: index\n    }, React__namespace.createElement(BookmarkItem, {\n      bookmark: bookmark,\n      depth: depth,\n      doc: doc,\n      onClick: jumpToDest,\n      onJumpToDest: onJumpToDest\n    }));\n  }));\n};\n\nvar BookmarkLoader = function BookmarkLoader(_a) {\n  var doc = _a.doc,\n      onJumpToDest = _a.onJumpToDest;\n  var l10n = React__namespace.useContext(core.LocalizationContext);\n\n  var _b = React__namespace.useState({\n    isLoaded: false,\n    items: []\n  }),\n      bookmarks = _b[0],\n      setBookmarks = _b[1];\n\n  React__namespace.useEffect(function () {\n    setBookmarks({\n      isLoaded: false,\n      items: []\n    });\n    doc.getOutline().then(function (outline) {\n      setBookmarks({\n        isLoaded: true,\n        items: outline || []\n      });\n    });\n  }, [doc]);\n  return !bookmarks.isLoaded ? React__namespace.createElement(core.Spinner, null) : bookmarks.items.length === 0 ? React__namespace.createElement(\"div\", {\n    className: 'rpv-bookmark-empty'\n  }, l10n && l10n.bookmark ? l10n.bookmark.noBookmark : 'There is no bookmark') : React__namespace.createElement(BookmarkList, {\n    bookmarks: bookmarks.items,\n    depth: 0,\n    doc: doc,\n    onJumpToDest: onJumpToDest\n  });\n};\n\nvar BookmarkListWithStore = function BookmarkListWithStore(_a) {\n  var store = _a.store;\n\n  var _b = React__namespace.useState(store.get('doc')),\n      currentDoc = _b[0],\n      setCurrentDoc = _b[1];\n\n  var handleDocumentChanged = function handleDocumentChanged(doc) {\n    setCurrentDoc(doc);\n  };\n\n  var jump = function jump(pageIndex, bottomOffset, scaleTo) {\n    var jumpToDestination = store.get('jumpToDestination');\n\n    if (jumpToDestination) {\n      jumpToDestination(pageIndex, bottomOffset, 0, scaleTo);\n    }\n  };\n\n  React__namespace.useEffect(function () {\n    store.subscribe('doc', handleDocumentChanged);\n    return function () {\n      store.unsubscribe('doc', handleDocumentChanged);\n    };\n  }, []);\n  return currentDoc ? React__namespace.createElement(BookmarkLoader, {\n    doc: currentDoc,\n    onJumpToDest: jump\n  }) : React__namespace.createElement(\"div\", {\n    className: 'rpv-bookmark-list-loader'\n  }, React__namespace.createElement(core.Spinner, null));\n};\n\nvar bookmarkPlugin = function bookmarkPlugin() {\n  var store = React__namespace.useMemo(function () {\n    return core.createStore({});\n  }, []);\n\n  var BookmarksDecorator = function BookmarksDecorator() {\n    return React__namespace.createElement(BookmarkListWithStore, {\n      store: store\n    });\n  };\n\n  return {\n    install: function install(pluginFunctions) {\n      store.update('jumpToDestination', pluginFunctions.jumpToDestination);\n    },\n    onDocumentLoad: function onDocumentLoad(props) {\n      store.update('doc', props.doc);\n    },\n    Bookmarks: BookmarksDecorator\n  };\n};\n\nexports.bookmarkPlugin = bookmarkPlugin;","map":{"version":3,"sources":["C:/Users/chaki/OneDrive/Desktop/aymenouerghui/frontendReactJs/node_modules/@react-pdf-viewer/bookmark/lib/cjs/bookmark.js"],"names":["Object","defineProperty","exports","value","React","require","core","_interopNamespace","e","__esModule","n","create","keys","forEach","k","d","getOwnPropertyDescriptor","get","enumerable","freeze","React__namespace","BookmarkItem","_a","bookmark","depth","doc","onClick","onJumpToDest","toggleRef","createRef","subItemRef","subItemsDisplayed","useRef","hasSubItems","items","length","toggleSubItems","current","subItemsEle","toggleEle","style","display","classList","toggle","clickBookmak","dest","clickItem","createElement","Fragment","className","paddingLeft","ref","url","href","rel","target","newWindow","title","BookmarkList","bookmarks","_b","jumpToDest","getDestination","then","pageIndex","bottomOffset","scaleTo","map","index","key","BookmarkLoader","l10n","useContext","LocalizationContext","useState","isLoaded","setBookmarks","useEffect","getOutline","outline","Spinner","noBookmark","BookmarkListWithStore","store","currentDoc","setCurrentDoc","handleDocumentChanged","jump","jumpToDestination","subscribe","unsubscribe","bookmarkPlugin","useMemo","createStore","BookmarksDecorator","install","pluginFunctions","update","onDocumentLoad","props","Bookmarks"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\nObject.defineProperty(exports, '__esModule', { value: true });\r\n\r\nvar React = require('react');\r\nvar core = require('@react-pdf-viewer/core');\r\n\r\nfunction _interopNamespace(e) {\r\n    if (e && e.__esModule) return e;\r\n    var n = Object.create(null);\r\n    if (e) {\r\n        Object.keys(e).forEach(function (k) {\r\n            if (k !== 'default') {\r\n                var d = Object.getOwnPropertyDescriptor(e, k);\r\n                Object.defineProperty(n, k, d.get ? d : {\r\n                    enumerable: true,\r\n                    get: function () {\r\n                        return e[k];\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n    n['default'] = e;\r\n    return Object.freeze(n);\r\n}\r\n\r\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\r\n\r\nvar BookmarkItem = function (_a) {\r\n    var bookmark = _a.bookmark, depth = _a.depth, doc = _a.doc, onClick = _a.onClick, onJumpToDest = _a.onJumpToDest;\r\n    var toggleRef = React__namespace.createRef();\r\n    var subItemRef = React__namespace.createRef();\r\n    var subItemsDisplayed = React__namespace.useRef(true);\r\n    var hasSubItems = bookmark.items && bookmark.items.length > 0;\r\n    var toggleSubItems = function () {\r\n        subItemsDisplayed.current = !subItemsDisplayed.current;\r\n        var subItemsEle = subItemRef.current;\r\n        var toggleEle = toggleRef.current;\r\n        if (!subItemsEle || !toggleEle) {\r\n            return;\r\n        }\r\n        subItemsEle.style.display = subItemsDisplayed.current ? 'block' : 'none';\r\n        toggleEle.classList.toggle('rpv-bookmark-toggle-expanded');\r\n    };\r\n    var clickBookmak = function () {\r\n        if (hasSubItems && bookmark.dest) {\r\n            onClick(bookmark.dest);\r\n        }\r\n    };\r\n    var clickItem = function () {\r\n        if (!hasSubItems && bookmark.dest) {\r\n            onClick(bookmark.dest);\r\n        }\r\n    };\r\n    return (React__namespace.createElement(React__namespace.Fragment, null,\r\n        React__namespace.createElement(\"div\", { className: 'rpv-bookmark-item', style: {\r\n                paddingLeft: depth * 20 + 4 + \"px\",\r\n            }, onClick: clickItem },\r\n            hasSubItems && (React__namespace.createElement(\"span\", { ref: toggleRef, className: 'rpv-bookmark-toggle', onClick: toggleSubItems }, \"\\u25BA\")),\r\n            bookmark.url\r\n                ? (React__namespace.createElement(\"a\", { className: 'rpv-bookmark-title', href: bookmark.url, rel: 'noopener noreferrer nofollow', target: bookmark.newWindow ? '_blank' : '' }, bookmark.title))\r\n                : (React__namespace.createElement(\"div\", { className: 'rpv-bookmark-title', onClick: clickBookmak }, bookmark.title))),\r\n        hasSubItems && (React__namespace.createElement(\"div\", { ref: subItemRef },\r\n            React__namespace.createElement(BookmarkList, { bookmarks: bookmark.items, depth: depth + 1, doc: doc, onJumpToDest: onJumpToDest })))));\r\n};\r\n\r\nvar BookmarkList = function (_a) {\r\n    var bookmarks = _a.bookmarks, _b = _a.depth, depth = _b === void 0 ? 0 : _b, doc = _a.doc, onJumpToDest = _a.onJumpToDest;\r\n    var jumpToDest = function (dest) {\r\n        core.getDestination(doc, dest).then(function (target) {\r\n            var pageIndex = target.pageIndex, bottomOffset = target.bottomOffset, scaleTo = target.scaleTo;\r\n            onJumpToDest(pageIndex + 1, bottomOffset, scaleTo);\r\n        });\r\n    };\r\n    return (React__namespace.createElement(\"ul\", { className: 'rpv-bookmark-list' }, bookmarks.map(function (bookmark, index) {\r\n        return (React__namespace.createElement(\"li\", { key: index },\r\n            React__namespace.createElement(BookmarkItem, { bookmark: bookmark, depth: depth, doc: doc, onClick: jumpToDest, onJumpToDest: onJumpToDest })));\r\n    })));\r\n};\r\n\r\nvar BookmarkLoader = function (_a) {\r\n    var doc = _a.doc, onJumpToDest = _a.onJumpToDest;\r\n    var l10n = React__namespace.useContext(core.LocalizationContext);\r\n    var _b = React__namespace.useState({\r\n        isLoaded: false,\r\n        items: [],\r\n    }), bookmarks = _b[0], setBookmarks = _b[1];\r\n    React__namespace.useEffect(function () {\r\n        setBookmarks({\r\n            isLoaded: false,\r\n            items: [],\r\n        });\r\n        doc.getOutline().then(function (outline) {\r\n            setBookmarks({\r\n                isLoaded: true,\r\n                items: outline || [],\r\n            });\r\n        });\r\n    }, [doc]);\r\n    return (!bookmarks.isLoaded\r\n        ? React__namespace.createElement(core.Spinner, null)\r\n        : (bookmarks.items.length === 0\r\n            ? React__namespace.createElement(\"div\", { className: 'rpv-bookmark-empty' }, l10n && l10n.bookmark ? l10n.bookmark.noBookmark : 'There is no bookmark')\r\n            : (React__namespace.createElement(BookmarkList, { bookmarks: bookmarks.items, depth: 0, doc: doc, onJumpToDest: onJumpToDest }))));\r\n};\r\n\r\nvar BookmarkListWithStore = function (_a) {\r\n    var store = _a.store;\r\n    var _b = React__namespace.useState(store.get('doc')), currentDoc = _b[0], setCurrentDoc = _b[1];\r\n    var handleDocumentChanged = function (doc) {\r\n        setCurrentDoc(doc);\r\n    };\r\n    var jump = function (pageIndex, bottomOffset, scaleTo) {\r\n        var jumpToDestination = store.get('jumpToDestination');\r\n        if (jumpToDestination) {\r\n            jumpToDestination(pageIndex, bottomOffset, 0, scaleTo);\r\n        }\r\n    };\r\n    React__namespace.useEffect(function () {\r\n        store.subscribe('doc', handleDocumentChanged);\r\n        return function () {\r\n            store.unsubscribe('doc', handleDocumentChanged);\r\n        };\r\n    }, []);\r\n    return (currentDoc\r\n        ? (React__namespace.createElement(BookmarkLoader, { doc: currentDoc, onJumpToDest: jump }))\r\n        : React__namespace.createElement(\"div\", { className: 'rpv-bookmark-list-loader' },\r\n            React__namespace.createElement(core.Spinner, null)));\r\n};\r\n\r\nvar bookmarkPlugin = function () {\r\n    var store = React__namespace.useMemo(function () { return core.createStore({}); }, []);\r\n    var BookmarksDecorator = function () { return (React__namespace.createElement(BookmarkListWithStore, { store: store })); };\r\n    return {\r\n        install: function (pluginFunctions) {\r\n            store.update('jumpToDestination', pluginFunctions.jumpToDestination);\r\n        },\r\n        onDocumentLoad: function (props) {\r\n            store.update('doc', props.doc);\r\n        },\r\n        Bookmarks: BookmarksDecorator,\r\n    };\r\n};\r\n\r\nexports.bookmarkPlugin = bookmarkPlugin;\r\n"]},"metadata":{},"sourceType":"script"}