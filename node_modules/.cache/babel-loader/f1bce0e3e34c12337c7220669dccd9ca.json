{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\siwar\\\\Desktop\\\\front\\\\src\\\\user\\\\components\\\\courses\\\\Quiz.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport { Formik, Field, Form, FieldArray, ErrorMessage } from \"formik\";\nimport { queryApi } from \"../../../utils/queryApi\";\nimport { useApi } from \"../../../hooks/useApi\";\nimport * as Yup from \"yup\";\nimport Select from 'react-select';\nimport { array } from \"yup/lib/locale\";\nimport { useHistory } from \"react-router-dom\";\nimport Header from '../Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Quiz({\n  match\n}) {\n  _s();\n\n  var _getquiz$Questions;\n\n  let interval = useRef;\n  const id = match.params.id;\n  const index = match.params.index;\n  const history = useHistory();\n  const usercours = useApi(\"usercourse/learncourse/\" + id, null, \"GET\")[0];\n  const cours = usercours === null || usercours === void 0 ? void 0 : usercours.CourseId;\n  const getquiz = cours === null || cours === void 0 ? void 0 : cours.Module[index].Quiz;\n  const [show, setShow] = useState(false);\n  const [showExplantation, setShowExplantation] = useState(false);\n  const [selectedAnswers, setSelectedAnswers] = useState({});\n  const [score, setScore] = useState(0);\n  const [mi, setMi] = useState(9);\n  const [over, setOver] = React.useState(false);\n  console.log(cours === null || cours === void 0 ? void 0 : cours._id);\n  console.log(parseInt(cours === null || cours === void 0 ? void 0 : cours.Module[index].Quiz.Duration));\n  /*const [findusercourse]=useApi(\"usercourse/verif/\"+id+\"/\"+index,null,\"GET\");\r\n  console.log(findusercourse)*/\n\n  useEffect(() => {\n    setMi(parseInt(cours === null || cours === void 0 ? void 0 : cours.Module[index].Quiz.Duration));\n  }, []);\n  const [time, setTime] = useState({\n    minutes: parseInt(4),\n    seconds: parseInt(0)\n  });\n  useEffect(async () => {\n    const [findusercourse] = await queryApi(\"usercourse/verif/\" + id + \"/\" + index, null, \"GET\");\n    console.log(findusercourse === null || findusercourse === void 0 ? void 0 : findusercourse.PassQuiz);\n\n    if (findusercourse != null) {\n      var _findusercourse$PassQ;\n\n      setScore(findusercourse === null || findusercourse === void 0 ? void 0 : (_findusercourse$PassQ = findusercourse.PassQuiz[0]) === null || _findusercourse$PassQ === void 0 ? void 0 : _findusercourse$PassQ.Percentage);\n      console.log(findusercourse === null || findusercourse === void 0 ? void 0 : findusercourse.PassQuiz); // setSelectedAnswers(findusercourse?.PassQuiz[0]?.UserAnswer);\n\n      setShow(() => true); //console.log(selectedAnswers);\n    }\n  }, [score, show, selectedAnswers]);\n\n  const startTimer = () => {\n    if (show) {\n      setTime({\n        minutes: 0,\n        seconds: 0\n      });\n      return;\n    }\n\n    if (over) {\n      //setShow(() => ( true));\n      submitQuiz();\n      return;\n    } // Time up\n\n\n    if (time.minutes === 0 && time.seconds === 0) {\n      setOver(true);\n    } else if (time.seconds === 0) {\n      // decrement minute\n      setTime({\n        minutes: time.minutes - 1,\n        seconds: 59\n      });\n    } else {\n      // decrement seconds\n      setTime({\n        minutes: time.minutes,\n        seconds: time.seconds - 1\n      });\n    }\n  };\n\n  useEffect(() => {\n    let timerID = setInterval(() => startTimer(), 1000);\n    return () => clearInterval(timerID);\n  });\n  const handleAnswerSelected = useCallback(ev => {\n    console.log(ev);\n    const {\n      name,\n      value\n    } = ev.target;\n    setSelectedAnswers(oldData => ({ ...oldData,\n      [name]: Number(value)\n    }));\n  }, [setSelectedAnswers]);\n  const submitQuiz = useCallback(async ev => {\n    var _passusercourse$PassQ, _cours$Module;\n\n    let totalpercentage = 0;\n    let i = 0;\n    const verif = false;\n    let state = \"failed\";\n    const allCorrect = getquiz === null || getquiz === void 0 ? void 0 : getquiz.Questions.every((question, index) => question.Answer === selectedAnswers[index]);\n    getquiz === null || getquiz === void 0 ? void 0 : getquiz.Questions.map((question, index) => {\n      if (question.Answer === selectedAnswers[index]) {\n        i++;\n      }\n    });\n    let x = i / (getquiz === null || getquiz === void 0 ? void 0 : getquiz.Questions.length) * 100;\n    setScore(() => x);\n    console.log(score);\n    setShowExplantation(() => true);\n    setShow(() => true);\n    console.log(x, i, getquiz === null || getquiz === void 0 ? void 0 : getquiz.Questions.length);\n\n    if (x >= 80) {\n      state = \"success\";\n    }\n\n    var usercourse = {\n      PassQuiz: {\n        Note: i,\n        Index: index,\n        State: state,\n        Percentage: x,\n        UserAnswer: selectedAnswers\n      }\n    };\n    const [passq, err] = await queryApi(\"usercourse/passquiz/\" + id, usercourse, \"PUT\", false);\n    /**verif if user will recieve a certif */\n\n    const [passusercourse] = await queryApi(\"usercourse/userwillrecievecertif/\" + id, null, \"GET\");\n\n    if ((passusercourse === null || passusercourse === void 0 ? void 0 : (_passusercourse$PassQ = passusercourse.PassQuiz) === null || _passusercourse$PassQ === void 0 ? void 0 : _passusercourse$PassQ.length) === (cours === null || cours === void 0 ? void 0 : (_cours$Module = cours.Module) === null || _cours$Module === void 0 ? void 0 : _cours$Module.length)) {\n      var _usercours$PassQuiz;\n\n      console.log(\"ouuuuuuh\");\n      const [modifusercoursedisplay] = await queryApi(\"usercourse/updateshow/\" + id, null, \"PUT\");\n\n      for (const u of usercours === null || usercours === void 0 ? void 0 : usercours.PassQuiz) {\n        totalpercentage += u.Percentage;\n      }\n\n      let resultcertif = totalpercentage / (usercours === null || usercours === void 0 ? void 0 : (_usercours$PassQuiz = usercours.PassQuiz) === null || _usercours$PassQuiz === void 0 ? void 0 : _usercours$PassQuiz.length);\n      console.log(resultcertif);\n\n      if (resultcertif >= 80) {\n        var certif = {\n          usercourse: usercours,\n          Score: resultcertif\n        };\n        const ceertif = await queryApi(\"certif/recieve\", certif, \"POST\", false);\n        console.log(\"waaaaw\");\n      }\n    }\n\n    console.log(x); //alert(i==quiz.length ? 'You win!' : 'Something is incorrect')\n  }, [selectedAnswers, show, score]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        class: \"flex justify-center items-center absolute right-0 Top-0\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"fa fa-clock-o\",\n          \"aria-hidden\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 75\n        }, this), time.minutes, \":\", time.seconds]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        class: \"btn btn-secondary btn-icon-only\",\n        style: {\n          marginRight: \"590px\"\n        },\n        onClick: () => {\n          history.goBack();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"btn-inner--icon\",\n          style: {\n            marginLeft: \"3px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"uil-arrow-left\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 83\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 81\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginLeft: \"60px\",\n            display: \"block\",\n            marginTop: \"-60px\"\n          },\n          children: \" The Request / Response Cycle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 81\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginLeft: \"60px\",\n            display: \"block\",\n            marginTop: \"-30px\",\n            fontSize: \"10px\"\n          },\n          children: \"Quiz to practice \\xA0\\u2022\\xA0 30min\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 77\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        style: {\n          width: \"100%\",\n          textAlign: \"left\",\n          marginLeft: \"0\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 79\n      }, this), show ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: score >= 80 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: \"#f3faf7\",\n            height: \"90px\",\n            marginTop: \"-20px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              flexDirection: \"column\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                marginLeft: \"350px\"\n              },\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-check\",\n                \"aria-hidden\": \"true\",\n                style: {\n                  color: \"green\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 44\n              }, this), \" congratulations ! You win !\", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: \"12px\",\n                  marginLeft: \"200px\"\n                },\n                children: [\"Your score:  \", parseFloat(score).toFixed(2), \" %\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: \"11px\"\n              },\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"TO SUCCEED\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 43\n              }, this), \" 80 % or more\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            style: {\n              height: \"100% \"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 43\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 10\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 22\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: \"#fff4f5\",\n            height: \"90px\",\n            marginTop: \"-20px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              flexDirection: \"column\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                marginLeft: \"350px\"\n              },\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-times\",\n                \"aria-hidden\": \"true\",\n                style: {\n                  color: \"red\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 37\n              }, this), \"  You have failed !\", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: \"12px\",\n                  marginLeft: \"200px\"\n                },\n                children: [\"Your score:  \", parseFloat(score).toFixed(2), \" %\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 3\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 3\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: \"11px\"\n              },\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"TO SUCCEED\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 36\n              }, this), \" 80 % or more\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 3\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            style: {\n              height: \"100% \"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 8\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: \"120px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\" \", getquiz === null || getquiz === void 0 ? void 0 : getquiz.Name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: \"11px\"\n          },\n          children: [\"TOTAL DES POINTS \", getquiz === null || getquiz === void 0 ? void 0 : (_getquiz$Questions = getquiz.Questions) === null || _getquiz$Questions === void 0 ? void 0 : _getquiz$Questions.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            width: \"50%\",\n            marginLeft: \"240px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: getquiz === null || getquiz === void 0 ? void 0 : getquiz.Questions.map((question, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            style: {\n              marginLeft: \"350px\"\n            },\n            children: [index + 1, \" .\", question.QuestionText, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"    \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 86\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"bg-gray-100 py-1.5 px-4 rounded-full\",\n              style: {\n                fontSize: \"10px\",\n                marginLeft: \"180px\"\n              },\n              children: \"  1 point \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 104\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this), question.AnswerOptions.map((answer, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: \"500px\"\n            },\n            class: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              checked: answer.checked,\n              onChange: handleAnswerSelected,\n              type: \"radio\",\n              disabled: show === true ? \"disabled\" : false,\n              value: idx,\n              name: index,\n              id: idx\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: idx,\n              style: {\n                marginRight: \"650px\",\n                fontSize: \"12px\"\n              },\n              class: \"col-sm-2 col-form-label\",\n              children: answer\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 18\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 17\n          }, this)), showExplantation ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: question.Answer === selectedAnswers[index] ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 72\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginLeft: \"500px\",\n                  fontSize: \"12px\",\n                  backgroundColor: \"#f3faf7\",\n                  width: \"350px\",\n                  height: \"40px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 182\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa fa-check\",\n                  \"aria-hidden\": \"true\",\n                  style: {\n                    color: \"green\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 188\n                }, this), \" \", question.Explantation, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 77\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 290\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 66\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 29\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginLeft: \"500px\",\n                  fontSize: \"12px\",\n                  backgroundColor: \"#fff4f5\",\n                  width: \"350px\",\n                  height: \"40px\"\n                },\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 141\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa fa-times\",\n                  \"aria-hidden\": \"true\",\n                  style: {\n                    color: \"red\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 146\n                }, this), question.Explantation]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 35\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 18\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 20\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        style: {\n          width: \"47%\",\n          marginLeft: \"350px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: submitQuiz,\n        style: {\n          width: \"200px\",\n          marginLeft: \"80px\"\n        },\n        type: \"button\",\n        class: show === false ? \"bg-blue-600 font-semibold p-2 rounded-md text-center text-white w-full\" : \"btn btn-secondary\",\n        disabled: show,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Quiz, \"4ubGihpbPmS6xR6n7PxJ0au+vWo=\", false, function () {\n  return [useHistory, useApi];\n});\n\n_c = Quiz;\n\nvar _c;\n\n$RefreshReg$(_c, \"Quiz\");","map":{"version":3,"sources":["C:/Users/siwar/Desktop/front/src/user/components/courses/Quiz.js"],"names":["React","useState","useEffect","useCallback","useRef","Formik","Field","Form","FieldArray","ErrorMessage","queryApi","useApi","Yup","Select","array","useHistory","Header","Quiz","match","interval","id","params","index","history","usercours","cours","CourseId","getquiz","Module","show","setShow","showExplantation","setShowExplantation","selectedAnswers","setSelectedAnswers","score","setScore","mi","setMi","over","setOver","console","log","_id","parseInt","Duration","time","setTime","minutes","seconds","findusercourse","PassQuiz","Percentage","startTimer","submitQuiz","timerID","setInterval","clearInterval","handleAnswerSelected","ev","name","value","target","oldData","Number","totalpercentage","i","verif","state","allCorrect","Questions","every","question","Answer","map","x","length","usercourse","Note","Index","State","UserAnswer","passq","err","passusercourse","modifusercoursedisplay","u","resultcertif","certif","Score","ceertif","marginRight","goBack","marginLeft","display","marginTop","fontSize","width","textAlign","backgroundColor","height","flexDirection","color","parseFloat","toFixed","Name","QuestionText","AnswerOptions","answer","idx","checked","Explantation"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback ,useRef} from \"react\";\r\n\r\n\r\nimport { Formik, Field, Form, FieldArray,ErrorMessage } from \"formik\";\r\nimport { queryApi } from \"../../../utils/queryApi\";\r\nimport { useApi } from \"../../../hooks/useApi\";\r\nimport * as Yup from \"yup\";\r\nimport Select from 'react-select';\r\nimport { array } from \"yup/lib/locale\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Header from'../Header';\r\n \r\nexport default function Quiz({match}) {\r\n let interval=useRef;\r\n  const id = match.params.id;\r\n  const index = match.params.index;\r\n    const history = useHistory();\r\n    const usercours =useApi(\"usercourse/learncourse/\"+id,null,\"GET\")[0];\r\n    const cours =usercours?.CourseId;\r\n  const getquiz=cours?.Module[index].Quiz;\r\n  \r\n    \r\n\r\n\r\n const [show, setShow] = useState(false);\r\n const [showExplantation, setShowExplantation] = useState(false);\r\n const [selectedAnswers, setSelectedAnswers] = useState({});\r\n const [score, setScore] = useState(0);\r\nconst [mi,setMi]=useState(9);\r\n const [over, setOver] = React.useState(false);\r\nconsole.log(cours?._id);\r\n console.log(parseInt(cours?.Module[index].Quiz.Duration));\r\n /*const [findusercourse]=useApi(\"usercourse/verif/\"+id+\"/\"+index,null,\"GET\");\r\n console.log(findusercourse)*/\r\n useEffect(() =>{\r\n  setMi( parseInt(cours?.Module[index].Quiz.Duration));\r\n  },[]);\r\n  const [time, setTime] = useState({\r\n    minutes:parseInt(4),\r\n   \r\n   seconds: parseInt(0)\r\n });\r\nuseEffect(async() => {\r\n    const [findusercourse]=await queryApi(\"usercourse/verif/\"+id+\"/\"+index,null,\"GET\");\r\n    console.log(findusercourse?.PassQuiz);\r\n    if(findusercourse!=null)\r\n    {\r\n        setScore(findusercourse?.PassQuiz[0]?.Percentage);\r\n        console.log(findusercourse?.PassQuiz);\r\n\r\n       // setSelectedAnswers(findusercourse?.PassQuiz[0]?.UserAnswer);\r\n        setShow(() => ( true));\r\n        //console.log(selectedAnswers);\r\n    }\r\n  \r\n  \r\n \r\n   \r\n  }, [ score,show,selectedAnswers]);\r\n \r\n\r\n  const startTimer=()=>{\r\n    if(show)\r\n    {  setTime({\r\n       \r\n      minutes: 0,\r\n      seconds: 0\r\n    });\r\n   return\r\n      \r\n    }\r\n    if ( over) {\r\n      \r\n      //setShow(() => ( true));\r\n     submitQuiz();\r\n      return\r\n    }\r\n\r\n    // Time up\r\n    if ( time.minutes === 0 && time.seconds === 0) {\r\n      setOver(true);\r\n    }\r\n    else if (time.seconds === 0) {\r\n      // decrement minute\r\n      setTime({\r\n       \r\n        minutes: time.minutes - 1,\r\n        seconds: 59\r\n      });\r\n    } \r\n    else {\r\n      // decrement seconds\r\n      setTime({\r\n  \r\n        minutes: time.minutes,\r\n        seconds: time.seconds - 1\r\n      });\r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    let timerID = setInterval(() => startTimer(), 1000);\r\n    return () => clearInterval(timerID);\r\n\r\n  });\r\n  const handleAnswerSelected = useCallback(\r\n    (ev) => {\r\n      console.log(ev);\r\n      const { name, value } = ev.target;\r\n      setSelectedAnswers((oldData) => ({ ...oldData, [name]: Number(value)}));\r\n    },\r\n    [setSelectedAnswers]\r\n  );\r\n\r\n\r\n  const submitQuiz = useCallback(\r\n     \r\n    async (ev) => {\r\n        \r\n       let totalpercentage=0;\r\n     \r\n        let i=0;\r\n        const verif=false;\r\n        let state=\"failed\";\r\n        const allCorrect = getquiz?.Questions.every((question,index) => question.Answer=== selectedAnswers[index]);\r\n        getquiz?.Questions.map((question,index) => \r\n         {\r\n              if( question.Answer=== selectedAnswers[index] )\r\n                  {\r\n                      i++;\r\n                    \r\n                    }\r\n     \r\n         }\r\n        );\r\n        let x=(i/getquiz?.Questions.length)*100;\r\n        setScore(() => (x));\r\n        console.log(score);\r\n        setShowExplantation(() => ( true));\r\n        \r\n        setShow(() => ( true));\r\n console.log(x,i,getquiz?.Questions.length);\r\n        if(x>=80)\r\n        {\r\n          state=\"success\";\r\n        }\r\n    \r\n    \r\n      var usercourse={\r\n        PassQuiz: {\r\n            Note:i,        \r\n            Index:index,\r\n            State:state,\r\n            Percentage:x,\r\n            UserAnswer:selectedAnswers\r\n\r\n        }\r\n      }\r\n    const [passq, err] = await  queryApi(\"usercourse/passquiz/\"+id,usercourse, \"PUT\",false);\r\n    /**verif if user will recieve a certif */\r\n    const [passusercourse]=await queryApi(\"usercourse/userwillrecievecertif/\"+id ,null,\"GET\");\r\n    if(passusercourse?.PassQuiz?.length===cours?.Module?.length)\r\n    {       console.log(\"ouuuuuuh\");\r\n      \r\n      const [modifusercoursedisplay]=await queryApi(\"usercourse/updateshow/\"+id ,null,\"PUT\");\r\n  \r\n      for(   const u of  usercours?.PassQuiz)\r\n      {  totalpercentage+=u.Percentage;\r\n\r\n      }\r\n      let resultcertif=(totalpercentage/usercours?.PassQuiz?.length);\r\n      console.log(resultcertif);\r\n      if(resultcertif>=80)\r\n      { var certif={\r\n        usercourse:usercours,\r\n        Score:resultcertif\r\n                   }\r\n       const ceertif= await queryApi(\"certif/recieve\", certif, \"POST\", false);\r\n        console.log(\"waaaaw\");\r\n      }\r\n     \r\n    }\r\n    \r\n \r\n    \r\n      console.log(x);\r\n      //alert(i==quiz.length ? 'You win!' : 'Something is incorrect')\r\n    },\r\n    [ selectedAnswers,show,score]\r\n  );\r\n\r\n\r\n \r\n  return (\r\n    <div >\r\n    <Header />\r\n      <div >\r\n \r\n      <br/><br/><br/><br/>\r\n      <p class=\"flex justify-center items-center absolute right-0 Top-0\"> <i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i>{time.minutes}:{time.seconds}</p>\r\n      <button type=\"button\" class=\"btn btn-secondary btn-icon-only\" style={{marginRight:\"590px\"}}  onClick={() => {\r\n                    history.goBack();\r\n                }}>\r\n                                                                                <span class=\"btn-inner--icon\" style={{marginLeft:\"3px\"}}>\r\n                                                                                  <i class=\"uil-arrow-left\"></i>\r\n                                                                                </span>\r\n                                                                                <span style={{marginLeft:\"60px\",display:\"block\",marginTop:\"-60px\"}}> The Request / Response Cycle</span>\r\n                                                                            <span style={{marginLeft:\"60px\",display:\"block\",marginTop:\"-30px\",fontSize:\"10px\"}}>Quiz to practice &nbsp;•&nbsp; 30min</span>\r\n                                                                              </button>\r\n                                                                            \r\n                                                                              <hr style={{width:\"100%\",textAlign:\"left\",marginLeft:\"0\"}}/>\r\n     \r\n  {show ? (\r\n       <div>\r\n      {score >=80?(  <div style={{backgroundColor:\"#f3faf7\",height:\"90px\",marginTop:\"-20px\"}}>\r\n         <br/>\r\n       \r\n        \r\n         <div style={{display:\"flex\",flexDirection:\"column\"}}>\r\n        \r\n         <h3 style={{marginLeft:\"350px\"}}> <i class=\"fa fa-check\" aria-hidden=\"true\" style={{color:\"green\"}}></i> congratulations ! You win !\r\n         <span style={{fontSize:\"12px\",marginLeft:\"200px\"}} >Your score:  {parseFloat(score).toFixed(2)} %</span>\r\n         </h3>\r\n        \r\n        \r\n         <span style={{fontSize:\"11px\"}}> <strong>TO SUCCEED</strong> 80 % or more</span>\r\n  \r\n        \r\n         </div>\r\n         \r\n         <hr style={{height: \"100% \" }} /><br/>\r\n         <br/>\r\n         <br/>\r\n     </div>\r\n  ):(<div style={{backgroundColor:\"#fff4f5\",height:\"90px\",marginTop:\"-20px\"}}>\r\n  <br/>\r\n\r\n \r\n  <div style={{display:\"flex\",flexDirection:\"column\"}}>\r\n \r\n  <h3 style={{marginLeft:\"350px\"}}> <i class=\"fa fa-times\" aria-hidden=\"true\" style={{color:\"red\"}}></i>  You have failed !\r\n  <span style={{fontSize:\"12px\",marginLeft:\"200px\"}} >Your score:  {parseFloat(score).toFixed(2)} %</span>\r\n  </h3>\r\n \r\n \r\n  <span style={{fontSize:\"11px\"}}> <strong>TO SUCCEED</strong> 80 % or more</span>\r\n\r\n \r\n  </div>\r\n  \r\n  <hr style={{height: \"100% \" }} /><br/>\r\n  <br/>\r\n  <br/>\r\n</div>) }</div>\r\n   \r\n  ):(<p></p>)}<br/>\r\n      <div style={{marginLeft: \"120px\"}}>\r\n       <h1 > {getquiz?.Name}</h1>\r\n    \r\n    \r\n       <p style={{fontSize:\"11px\"}}>TOTAL DES POINTS {getquiz?.Questions?.length}</p>\r\n       <hr style={{width:\"50%\",marginLeft:\"240px\"}}/>\r\n       </div>\r\n        <ul >\r\n          {getquiz?.Questions.map((question,index) => (\r\n            <div key={index} >\r\n                \r\n              <h5  style={{marginLeft:\"350px\"}} >{index +1} .{question.QuestionText} <span>    </span> <span  class=\"bg-gray-100 py-1.5 px-4 rounded-full\" style={{fontSize:\"10px\",marginLeft:\"180px\"}}>  1 point </span></h5>\r\n      \r\n              {question.AnswerOptions.map((answer, idx) => (\r\n                <div key={idx} style={{marginLeft:\"500px\"}} class=\"form-row\">\r\n     \r\n \r\n                    <input \r\n                      checked={answer.checked} \r\n                      onChange={handleAnswerSelected}\r\n                      type=\"radio\" disabled= {show === true?\"disabled\":false}\r\n                      value={idx}\r\n                      name={index}\r\n                   id={idx}/>\r\n             \r\n                 <label for={idx}  style={{marginRight:\"650px\",fontSize:\"12px\"}} class=\"col-sm-2 col-form-label\">{answer}</label>  \r\n                \r\n               \r\n                </div>\r\n\r\n              ))}\r\n                {showExplantation ? \r\n                (<div>\r\n                    {question.Answer=== selectedAnswers[index]?( <div> <br/><div  style={{marginLeft:\"500px\",fontSize:\"12px\",backgroundColor:\"#f3faf7\",width:\"350px\",height:\"40px\"}}><br/> <i class=\"fa fa-check\" aria-hidden=\"true\" style={{color:\"green\"}}></i> {question.Explantation} </div> <br/></div>)\r\n                    :(<div> <br/> <div  style={{marginLeft:\"500px\",fontSize:\"12px\",backgroundColor:\"#fff4f5\",width:\"350px\",height:\"40px\"}}> <br/><i class=\"fa fa-times\"  aria-hidden=\"true\" style={{color:\"red\"}}></i>{question.Explantation} \r\n                    \r\n\r\n                    </div> <br/></div>) } \r\n               </div>\r\n                ):(<p></p>)}\r\n            </div>\r\n          ))}\r\n        </ul>\r\n      \r\n\r\n\r\n        <hr style={{width:\"47%\",marginLeft:\"350px\"}}/>\r\n        <button  onClick={submitQuiz} style={{width:\"200px\",marginLeft:\"80px\"}} type=\"button\" class={ show === false ? \"bg-blue-600 font-semibold p-2 rounded-md text-center text-white w-full\" :\"btn btn-secondary\" }  disabled={show}>Submit</button>\r\n        \r\n      \r\n                               \r\n        \r\n        <br/> <br/>\r\n       \r\n      </div>\r\n    </div>\r\n  );\r\n   \r\n}\r\n\r\n      \r\n      \r\n    \r\n"]},"metadata":{},"sourceType":"module"}